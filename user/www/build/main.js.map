{"version":3,"sources":["../../src/pages/home/check.ts","../../src/pages/StringManipulation/Root.ts","../../src/pages/scenario/modal/modalpop.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/home/menu.ts","../../src/pages/scenario/starter/scenario.ts","../../src/pages/scenario/starter/start.ts","../../src/pages/scenario/chronologically/chron.ts","../../src/pages/scenario/visited/AlreadyVisited.ts","../../src/pages/gps/cam.ts","../../src/pages/scenario/starter/opencam.ts","../../src/pages/StringManipulation/string_manipulation.ts","../../src/pages/scenario/response/response.ts","../../src/pages/scenario/settings/settings.ts","../../src/pages/gps/fire.ts","../../src/pages/home/registration.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/scenario/starter/beacon.ts","../../src/pages/scenario/geographically/geo.ts","../../src/pages/gps/vid.ts","../../src/pages/beacon/beacon.ts","../../src/pages/scenario/starter/finder.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component,ViewChild } from '@angular/core';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { Diagnostic } from '@ionic-native/diagnostic';\r\nimport { AlertController } from 'ionic-angular';\r\n\r\nimport {FinderPage} from '../scenario/starter/finder';\r\nimport {MenuPage} from './menu';\r\nimport {RegistrationPage} from './registration';\r\nimport { LoadingController,App,ViewController,NavController } from 'ionic-angular';\r\n\r\nimport * as firebase from 'firebase';\r\n@Component({\r\n  selector: 'page-check',\r\n  templateUrl: 'check.html'\r\n})\r\n\r\n\r\nexport class CheckPage {\r\n\r\n  \r\n     \r\n     \r\n\r\n\r\n\r\n  constructor(public alertCtrl: AlertController,private diagnostic: Diagnostic,public af : AngularFireDatabase, public viewCtrl: ViewController,public navCtrl: NavController, public afAuth: AngularFireAuth) {\r\n\t  \r\n  \r\n\t  \r\n  }\r\n  //check if gps, wifi and bluetooth are enabled\r\n\r\nngOnInit(){\r\n\r\n\t\r\n\r\n\tthis.diagnostic.isGpsLocationEnabled()\r\n  .then((state) => {\r\n      \r\n\t\tif(state == false){\r\n\t\t\tvar subtitle=\"Please Turn on your Gps\";\r\n\t\t\t\r\n\t\t\tthis.LocationAlert(subtitle);\r\n\t\t}\r\n\t\t\r\n  }).catch(e => console.error(\"Gps error is:\",e));\r\n\t\t\r\n\t \r\n\t \tthis.diagnostic.isBluetoothAvailable()\r\n  .then((state) => {\r\n      \r\n\t\tif(state == false){\r\n\t\t\tvar subtitle=\"Please Turn on your Bluetooth\"\r\n\t\t\tthis.LocationAlert(subtitle);\r\n\t\t}\r\n\t\t\r\n  }).catch(e => console.error(\"bluetooth error is:\",e));\r\n\r\n\r\n\tthis.diagnostic.isWifiAvailable()\r\n  .then((state) => {\r\n        console.log(\"success\");\r\n\t\tif(state == false){\r\n\t\t\tvar subtitle=\"Please Turn on your wifi\"\r\n\t\t\tthis.LocationAlert(subtitle);\r\n\t\t}\r\n\t\t\r\n  }).catch(e => console.error(\"wifi error is:\",e));\r\n\r\n\r\n\t  \r\n\r\n\t this.afAuth.auth.onAuthStateChanged((user) =>{\r\n\r\n\t\t\r\n  if (user) {\r\n\t\r\n\r\n\t  \r\n\t\t\t this.navCtrl.push(MenuPage); \r\n\r\n    console.log(\"Signed In\");\r\n  } else {\r\n\t  \r\n \r\n       console.log(\"Not Signed In\");\r\n\t \r\n\t    this.navCtrl.push(RegistrationPage,{privilege: false});\r\n\t      \r\n  }\r\n\r\n});\r\n\r\n}\r\n\r\nLocationAlert(subtitle) {   //Displays the appropriate message on screen\r\n  let alert = this.alertCtrl.create({\r\n    title: 'Warning',\r\n    subTitle: subtitle,\r\n    buttons: ['Ok']\r\n  });\r\n  alert.present();\r\n}\r\n\r\n\r\n\r\n   }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/check.ts","import { Component,ViewChild  } from '@angular/core';\nimport { NavController, NavParams,Content } from 'ionic-angular';\n/*\n@Component({\n  templateUrl: 'tabs.html'\n})*/\nexport class RootPage {\n\npublic root;\n\n\n  constructor() {\n\t  \n\t   \n  }\n  \nDBroot(){ //changes the root of firebase structure\n\t\t\n\t\t\n\t\tthis.root=\"/Presentation/\";\n\t\t\n\t\t\n\t\treturn this.root;\n\t\t\n\t}\n  \n  \n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/StringManipulation/Root.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ModalController,ViewController } from 'ionic-angular';\r\nimport { StartPage } from '../starter/start';\r\n\r\n@Component({\r\n  selector: 'page-ModalPop',\r\n  templateUrl: 'modalpop.html',\r\n})\r\nexport class ModalPopPage{\r\npublic image;\r\npublic video;\r\npublic type;\r\npublic check;\r\n  constructor(public viewCtrl: ViewController,public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController ) {\r\n\t  \r\n\t  \r\n  }\r\n\r\nngOnInit(){ \r\n\tthis.type=this.navParams.get('Type');\r\n\t\r\n\tif( this.type==\"Image\"){\r\n\t  this.image= this.navParams.get('URL');\r\n\t  this.check=true;\r\n\t}\r\n     else{\r\n\t\tthis.video= this.navParams.get('URL');\r\n\t      this.check=false;\r\n\t }\r\n\t\r\n}\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/modal/modalpop.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 147;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 147\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 187;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 187\n// module chunks = 0","import { Component,ViewChild } from '@angular/core';\r\nimport { NavController, NavParams ,Content,} from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport {CheckPage} from './check';\r\nimport { ScenarioPage } from '../scenario/starter/scenario';\r\nimport {FinderPage} from '../scenario/starter/finder';\r\nimport {RegistrationPage} from './registration';\r\nimport { LoadingController,App,ViewController } from 'ionic-angular';\r\nimport { Firebase } from '@ionic-native/firebase';\r\n\r\n\r\n@Component({\r\n  selector: 'page-menu',\r\n  templateUrl: 'menu.html'\r\n})\r\n\r\n\r\nexport class MenuPage {\r\n\t@ViewChild(Content) content: Content;\r\n\r\npublic token;\r\nconstructor(public fcm: Firebase,public af : AngularFireDatabase,public afAuth: AngularFireAuth,public navCtrl: NavController, public navParams: NavParams) {\r\n \t\r\n }\r\n\r\n\r\n \r\n \t\r\n\r\n  SignOut(){ //Signs out the user with firebase auth\r\n\t  \r\n\r\n\t  \r\n\t  this.afAuth.auth.signOut().then(()=> {\r\n  // Sign-out successful.\r\n   this.navCtrl.pop();\r\n \r\n}).catch((error) =>{\r\n  // An error happened.\r\n});\r\n\r\n\t  \r\n  }\r\n  \r\n   GoToScenario(){//Pushes a page on screen\r\n\t\r\n\t\r\n\t this.navCtrl.push(ScenarioPage);\r\n\t\r\n}\r\n\r\n\r\n \r\n\r\n\r\n  \r\n \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/menu.ts","import { Component,ViewChild } from '@angular/core';\nimport { NavController,Content } from 'ionic-angular';\nimport { StartPage } from './start';\nimport { AlreadyVisitedPage } from '../visited/AlreadyVisited';\nimport { BeaconPage } from '../starter/beacon';\nimport { GeoPage } from '../geographically/geo';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AlertController } from 'ionic-angular';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/takeUntil';\nimport {AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable} from 'angularfire2/database';\nimport {FinderPage} from './finder';\nimport {RootPage} from '../../StringManipulation/Root'\n@Component({\n  selector: 'page-scenario',\n  templateUrl: 'scenario.html'\n})\nexport class ScenarioPage {\n\t@ViewChild(Content) content: Content;\npublic GameName;\npublic GamePassword;\npublic GamesArray=[];\npublic Digit;\npublic root;\n\tprivate ngUnsubscribe: Subject<void> = new Subject<void>();\n  constructor(private alertCtrl: AlertController,public af: AngularFireDatabase,public navCtrl: NavController,public afAuth: AngularFireAuth) {\n\n  \n  }\n  \n    ngOnInit(){\n\t  \n\t  this.root=new RootPage().DBroot();\n\t  this.AvailableGames();\n\t  \n  }\n  \n   StartGame(){\n\t  \n\t   this.navCtrl.push(StartPage,{Digit:this.Digit,Name:this.GameName });\n\t  \n  }\n  \n  //Menu of scenarios\n   AvailableGames(){\n  \n  \n  \n  \n\t \n\n\n\n\n\tnew FinderPage(this.af).RetrieveKey(this.root ).subscribe(keys =>\n\t\t      {\n\t\t\t\t\t\n\t\t\t\tfor (let key of keys){\n\t\t\t\t\t\n\t\t\t\tnew FinderPage(this.af).RetrieveGameName(this.root,key ).subscribe(Names =>{\n\t\t\t\t\t \n\t\t\t\t\t\tif(Names != undefined){\n\t\t\t\t\t\t \n           \t\t\t\t\t\n                       this.GamesArray.push(Names);\n\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t    \n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t}\n\t\t\n\t\t\t\n })\n       \n\n  }\n //Present the appropriate promt\n \n  presentPrompt(GamePath,GameName) {\n\t  this.GameName=GameName;\n  let alert = this.alertCtrl.create({\n    title: 'Login',\n\t\n    inputs: [\n     \n      {\n        name: 'password',\n        placeholder: 'Password',\n        type: 'password'\n      }\n    ],\n    buttons: [\n      {\n        text: 'Cancel',\n       \n        handler: data => {\n          console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'Login',\n        handler: data => {\n\t\t\t\n\n\t\t  \n\t\t     new FinderPage(this.af).RetrieveOnce(GamePath+\"/Password\").then(GamePassword =>\n\t\t      {\n\t\t\t\t\n\t\t\t\t \n\t\t\t\n\t\t\t\t\t\n\t    \tif(data.password == GamePassword){\n\t\t\t\n             this.StartGame();\n\t\t\t}\n          else{\n\t\t\t  \n\t\t\n              this.WpresentPrompt(GamePath);\n\t          \n\t\t  }\n\t\t\t  })\n   \n        }\n      }\n    ],\n\tenableBackdropDismiss: false \n  });\n\n  alert.present();\n  \n}\n\n//Present the appropriate promt\nWpresentPrompt(GamePath) {\n\t  \n  let walert = this.alertCtrl.create({\n    title: 'Login',\n\tsubTitle:'wrong password',\n    inputs: [\n     \n      {\n        name: 'password',\n        placeholder: 'Password',\n        type: 'password'\n      }\n    ],\n    buttons: [\n      {\n        text: 'Cancel',\n      \n        handler: data => {\n          console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'Login',\n        handler: data => {\n\t\t\t\n\t\n\t\t \n\t\t     new FinderPage(this.af).RetrieveOnce(GamePath+\"/Password\").then(GamePassword =>\n\t\t      {\n\t\t\t\t  \n\t\t\t\t \n\t\n\t\t\t\t\t\n\t    \tif(data.password == GamePassword){\n\t\t\t\n             this.StartGame();\n\t\t\t}\n          else{\n\t\t\t \n              this.WpresentPrompt(GamePath);\n\t          \n\t\t  }\n\t\t\t  })\n   \n        }\n      }\n    ],\n\tenableBackdropDismiss: false \n  });\n  \n\n  walert.present();\n  \n}\n\n\n\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/starter/scenario.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { NavController, NavParams, Content, ModalController, LoadingController, PopoverController, AlertController } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { VideoEditor } from '@ionic-native/video-editor';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\nimport { FinderPage } from './finder';\nimport { File } from '@ionic-native/file';\nimport { BeaconPage } from './beacon';\nimport { GeoPage } from '../geographically/geo';\nimport { ChronPage } from '../chronologically/chron';\nimport { AlreadyVisitedPage } from '../visited/AlreadyVisited';\nimport { Events } from 'ionic-angular';\nimport { CamPage } from '../../gps/cam';\nimport { OpenCamPage } from './opencam';\nimport { Media, MediaObject } from '@ionic-native/media';\nimport { VidPage } from '../../gps/vid';\nimport { ResponsePage } from '../response/response';\nimport { StringManipulationPage } from '../../StringManipulation/string_manipulation';\nimport { ModalPopPage } from '../modal/modalpop';\nimport { SettingsPage } from '../settings/settings';\nimport { BackgroundMode } from '@ionic-native/background-mode';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport { FilePath } from '@ionic-native/file-path';\nimport { FirePage } from '../../gps/fire';\nimport { NativeStorage } from '@ionic-native/native-storage';\n\nimport {\n\tGoogleMap,\n\tGoogleMapsEvent,\n\tLatLng,\n\tMarkerOptions,\n\tMarker\n\n} from '@ionic-native/google-maps';\nimport { BLE } from '@ionic-native/ble';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/takeUntil';\nimport {RootPage} from '../../StringManipulation/Root'\n\n\ndeclare var google;\n@Component({\n\tselector: 'page-start',\n\ttemplateUrl: 'start.html'\n})\n\n\nexport class StartPage {\n\t@ViewChild(Content) content: Content;\n\tobj: FirebaseObjectObservable<any>;\n\tlst: FirebaseListObservable<any>;\n\tpublic geo;\n\tpublic formData = [];\n\tpublic blobs = [];\n\tpublic text;\n\tpublic VideoUrls = [];\n\tpublic GamePath;\n\tpublic Currentlatlng;\n\tpublic GameType;\n\tpublic ResponseValue;\n\tpublic Scenario: String;\n\tpublic notvisited = [];\n\tpublic CordsArray = [];\n\tpublic visitedInfo = [];\n\tpublic markers = [];\n\tpublic Images = [];\n\tpublic Audio = [];\n\tpublic Sounds = [];\n\tpublic AutoSounds = [];\n\tpublic notification;\n\tpublic Videos = [];\n\tpublic data = \"stop\";\n\tpublic search;\n\tpublic id;\n\tpublic BIDs = [];\n\tpublic newid;\n\tpublic ring;\n\tpublic InumArray = [];\n\tpublic MapCords = [];\n\tpublic accuracy;\n\tpublic Multiples;\n\tpublic Poi;\n\tpublic devices;\n\tpublic MCvisited = [];\n\tpublic visited;\n\tpublic dt;\n\tpublic MyMarker;\n\tpublic Icnt=0;\n\tpublic Vcnt=0;\n\tpublic Acnt=0;\n\t@ViewChild('map') mapElement: ElementRef;\n\tpublic map: any;\n\tpublic root;\n\tprivate ngUnsubscribe: Subject<void> = new Subject<void>();\n\tconstructor(private alertCtrl: AlertController, private media: Media, private nativeStorage: NativeStorage, public popoverCtrl: PopoverController, public loadingCtrl: LoadingController, public afAuth: AngularFireAuth, private filePath: FilePath, private fileChooser: FileChooser, private backgroundMode: BackgroundMode, private videoEditor: VideoEditor, private mediaCapture: MediaCapture, private file: File, public modalCtrl: ModalController, private geolocation: Geolocation, public navCtrl: NavController, public navParams: NavParams, public af: AngularFireDatabase, private ble: BLE) {\n\n\t}\n\n\tngOnInit() {\n\n\n    this.root=new RootPage().DBroot();\n\n\n\t\tthis.nativeStorage.keys()\n\t\t\t.then(\n\t\t\tkeys => {\n\t\t\t\tconsole.log(\"success\");\n\t\t\t},\n\t\t\terror => console.error(\"keys error\", error)\n\t\t\t);\n\n\n\n\n\t\tthis.backgroundMode.enable();\n\t\tthis.backgroundMode.disableWebViewOptimizations();\n\n\t\t\n\n\t\tthis.FindMyPosition();\n\n\n\n\t}\n\n\tpresentPopover(myEvent) {\n\t\tlet popover = this.popoverCtrl.create(SettingsPage, { geo: this.geo });\n\t\tpopover.present({\n\t\t\tev: myEvent\n\t\t});\n\t}\n\n\n\tCheckAlert(subtitle) {\n\t\tlet alert = this.alertCtrl.create({\n\t\t\ttitle: 'Low battery',\n\t\t\tsubTitle: subtitle,\n\t\t\tbuttons: ['Dismiss']\n\t\t});\n\t\talert.present();\n\t}\n\n\tFindMyPosition() { // \n\t\n\n\t\tvar path = \"/test/\";\n\t\tvar GameName: string = this.navParams.get('Name');\n\t\t\n\n\t\tnew FinderPage(this.af).RetrieveKey(this.root).takeUntil(this.ngUnsubscribe).subscribe(keys => {\n\n\t\t\tfor (let key of keys) {\n\t\t\t\t\n\t\t\t\tnew FinderPage(this.af).RetrievePath(this.root, key, GameName).takeUntil(this.ngUnsubscribe).subscribe(GPath => {\n\n\t\t\t\t\tif (GPath != undefined) {\n\t\t\t\t\t\tthis.id = key;\n\t\t\t\t\t\tthis.GamePath = GPath + \"/GameName/\" + GameName;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\tthis.GetScenarioType(GPath, GameName);\n\n\n\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t}\n\n\n\t\t})\n\n\t}\n\n\n\tGetScenarioType(GPath, GameName) { //Retrieves the scenario type from firebase\n\n\t\t\n\n\t\tnew FinderPage(this.af).RetrieveOnce(GPath + \"/ScenarioType\").then(type => {\n\t\t\tthis.Scenario = type;\n\t\t\tthis.IamIn(GameName);\n\t\t\tthis.GetAccuracy(GPath);\n\t\t\tthis.Position();\n\n\n\t\t})\n\n\n\n\t}\n\n\tGetAccuracy(GPath) {// Retrieves Accuracy from firebase\n\n\t\t\n\n\t\tnew FinderPage(this.af).RetrieveOnce(GPath + \"/Accuracy\").then(type => {\n\t\t\tthis.accuracy = type;\n\t\t\t\n\n\n\t\t})\n\n\t\t\n\n\t}\n\n\n\n\tIamIn(GameName) { //\n\n\t\tvar usr = this.afAuth.auth.currentUser;\n\t\tthis.lst = this.af.list(\"/User/\" + usr.uid + \"/ResponseData\");\n\t\tthis.newid = this.lst.push('');\n\t\tthis.obj = this.af.object(\"/User/\" + usr.uid + \"/ResponseData/\" + this.newid.key);\n\t\tthis.obj.set({ GamePath: this.GamePath, GameName: GameName });\n\n\n\t}\n\n\n\tPosition() { //Retrieves POI cordinates and puts it to an array\n\n\t\tnew FinderPage(this.af).RetrivePosition(this.GamePath).takeUntil(this.ngUnsubscribe).subscribe(Cords => {\n\t\t\tthis.CordsArray = Cords;\n\n\t\t\t\n\n\t\t\tfor (let Cord of Cords) {\n\t\t\t\tthis.InumArray.push(Cord.val().Inum);\n\t\t\t\tnew ChronPage(this.navCtrl, this.navParams, this.af, this.ble).LowNum(this.InumArray);\n\t\t\t\n\t\t\t\tvar latlng = new google.maps.LatLng(Cord.val().Lat, Cord.val().Long);\n\t\t\t\tvar PoiName = Cord.key;\n\t\t\t\tvar Inum = Cord.val().Inum\n\t\t\t\tvar obj = {\n\t\t\t\t\tPoiName: PoiName,\n\t\t\t\t\tlatlng: latlng,\n\t\t\t\t\tInum: Inum\n\t\t\t\t}\n\t\t\t\tthis.MapCords.push(obj);\n\n\n\t\t\t}\n\t\t\tnew ChronPage(this.navCtrl, this.navParams, this.af, this.ble).LowestNum(this.MapCords);\n\t\t\t\n\t\t\tthis.loadMap(this.visitedInfo, this.MapCords);\n\t\t\t\n            this.watch();\n\n\n           \n\n\n\n\t\t\t\n\t\t})\n\n\n\t}\n\n\tbeacons() {\n\n\t\tnew BeaconPage(this.navCtrl, this.navParams, this.af, this.ble).startScanning().then((devices: any) => {\n\n\t\t\tthis.devices = devices;\n\n\n\n\t\t})\n\t}\n\n\twatch() { //Check position and updates marker on map\n       \n        this.geo = this.geolocation.watchPosition({ timeout: 5000,enableHighAccuracy: true}).subscribe(position => {\n\t\t\n\t\t\tthis.Currentlatlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n\t\t\t\n\t\t\n\t\t\tthis.MyMarker.setPosition(this.Currentlatlng);\n\t\n\t\t\tthis.ScenarioType();\n\t\t\tnew BeaconPage(this.navCtrl, this.navParams, this.af, this.ble).startScanning().then((devices: any) => {\n\n\t\t\t\tthis.devices = devices;\n\t\t\t\t\n\n\n\t\t\t})\n\n        }, error => { console.log(\"geolocation error\", error); } )\n\n\n\t}\n\n\n\n\n\t\n\n\t    \n\tScenarioType() { \n        \n\t\tvar Data;\n\t\t\n\n\t\tif (this.data != \"stop\") {\n\t\t\tthis.Multiples = false;\n\t\t\tthis.visited = undefined;\n\n\n\t\t\t\n\t\t\tif (this.Scenario == \"Chron\") { //check for scenario type\n\n\n\n\n\t\t\t\tData = new ChronPage(this.navCtrl, this.navParams, this.af, this.ble).startchron(this.accuracy, this.InumArray, this.CordsArray, this.Currentlatlng, this.visitedInfo, this.devices, this.BIDs);\n\t\t\n\t\t\t\n\t\t\t\tthis.backgroundMode.enable();\n\t\t\t\tthis.backgroundMode.disableWebViewOptimizations();\n\t\t\t\tif (Data != undefined) // check if  a POI exists in current position\n\t\t\t\t{\n\t\t\t\t\tthis.visited = this.visitedInfo[this.visitedInfo.length - 1].visited;\n\t\t\t\t\tthis.data = \"stop\";\n\t\t\t\t\tthis.search = false;\n\t\t\t\t\tthis.RingMyBell();\n\t\t\t\t\tthis.MarkersSet(this.visitedInfo, this.MapCords);\n\t\t\t\t\tthis.DisplayFile(Data);\n\t\t\t\t}\n\t\t\t\n\n\n\n\t\t\t}\n\n\t\t\tif (this.Scenario == \"Geo\") {\n\n\n\t\t  \n\t\t\t\tData = new GeoPage(this.geolocation, this.navCtrl, this.navParams, this.af, this.ble).startgeo(this.accuracy, this.CordsArray, this.Currentlatlng, this.visitedInfo, this.devices, this.BIDs);\n\t\t\t\n\t\t\t\tthis.backgroundMode.enable();\n\t\t\t\tthis.backgroundMode.disableWebViewOptimizations();\n\t\t\t\tif (Data != undefined) {\n\t\t\t\t\tthis.visited = this.visitedInfo[this.visitedInfo.length - 1].visited;\n\t\t\t\t\tthis.search = false;\n\t\t\t\t\tthis.data = \"stop\";\n\t\t\t\t\tthis.RingMyBell();\n\t\t\t\t\tthis.MarkersSet(this.visitedInfo, this.MapCords);\n\t\t\t\t\tthis.DisplayFile(Data);\n\t\t\t\t}\n\n\t\t\t\n\n\n\t\t\t}\n\t\t}\n\n\t\n\n\t\t\n\t}\n\n\n\tFindData(visited) { //Retrieves data \n\t\tthis.visited = visited;\n\t\t\n\t\tthis.data = \"stop\";\n\t\tthis.Multiples = false;\n\t\tthis.search = false;\n\t\n\t\tfor (let cord of this.CordsArray) {\n\t\t\tif (cord.key == visited) {\n\t\t\t\tvar data = cord.val().Data;\n\t\t\t\tthis.setToNull();\n\t\t\t\tthis.DisplayFile(data);\n\t\t\t}\n\n\t\t}\n\t}\n\n\n\n\n\tAlreadyVisited() { //Push a new page on stack\n\n\n\n\t\tthis.navCtrl.push(AlreadyVisitedPage, {\n\t\t\tName: this.visitedInfo,\n\t\t\tCordsArray: this.CordsArray,\n\t\t\tGameType: this.GameType,\n\t\t\tMapCords: this.MapCords\n\t\t});\n\n\n\t}\n\n\tRingMyBell() {//Retrives a sound and plays it if  finds a POI\n\n\t\tthis.nativeStorage.getItem('ring')\n\t\t\t.then(\n\t\t\tdata => {\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.play(data);\n\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tconsole.error(\"error\", error);\n\t\t\t\tvar dt = \"file:///android_asset/www/audio/ring.mp3\";\n\t\t\t\tthis.play(dt);\n\t\t\t});\n\t}\n\n\n\tplay(data) {// Sound play\n\n\t\tvar sound = this.media.create(data);\n\t\tsound.onStatusUpdate.subscribe(status => console.log(status)); // fires when file status changes\n\n\t\tsound.onSuccess.subscribe(() => console.log('Action is successful'));\n\n\t\tsound.onError.subscribe(error => console.log('Error!', error));\n\n\t\tsound.play();\n\n\n\n\n\t}\n\n\n   // Puts data to arrays/ variables to display it on screen\n\tDisplayFile(data) {\n\t\tthis.setToNull();\n\t\t\n\t\t\n\n\n\n\t\tfor (var key in data) {\n\n\t\t\t\n\t\t\tif (key.substr(0, 1) == \"T\") {\n\n\t\t\t\t\n\n\n\t\t\t\tthis.text = data[key];\n\n\n\n\n\t\t\t}\n\n\n\n\n\n\t\t\tif (key.substr(0, 1) == \"A\") {\n\n\t\t\t\tif (key.substr(0, 2) == \"Ap\") {\n\t\t\t\t\tnew FinderPage(this.af).GetData(data, key).then(audio => {\n\n\t\t\t\t\t\tthis.Sounds.push(audio);\n\t\t\t\t\t\t\n\n\n\n\t\t\t\t\t})\n\n\t\t\t\t} else {\n\t\t\t\t\tnew FinderPage(this.af).GetData(data, key).then(audio => {\n\n\t\t\t\t\t\tthis.AutoSounds.push(audio);\n\t\t\t\t\t\t\n\n\n\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tif (key.substr(0, 1) == \"G\") {\n\t\t\t\n\t\t\t\t\n\t\t\t\tthis.formData.push(data[key]);\n\n\t\t\t}\n\n\n\t\t\tif (key.substr(0, 1) == \"v\") {\n\n\n\t\t\t\tnew FinderPage(this.af).GetVidData(data, key).then(url => {\n\t\t\t\t\tthis.VideoUrls.push(url);\n\t\t\t\t\n\n\t\t\t\t})\n\t\t\t}\n\n\n\t\t\tif (key.substr(0, 1) == \"i\") {\n\t\t\t\tnew FinderPage(this.af).GetData(data, key).then(img => {\n\n\t\t\t\t\tthis.blobs.push(img);\n\t\t\t\t\n\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (key.substr(0, 1) == \"M\") {\n\n\t\t\t\tthis.Multiples = true;\n\t\t\t\n\n\t\t\t}\n\n\n\n\n\t\t}\n\n\t\n\t}\n\n\n\n\n\n\n\n\t\n\n\tsetToNull() { //Sets variables and arrays empty\n\n\t\tthis.VideoUrls = [];\n\t\tthis.blobs = [];\n\t\tthis.formData = [];\n\t\tthis.Sounds = [];\n\t\tthis.AutoSounds = [];\n\t\tthis.text = \"\";\n\t\tthis.Videos = [];\n\t\tthis.Images = [];\n\t\tthis.Audio = [];\n\n\n\n\t}\n\n\n\n\tloadMap(visitedInfo, MapCords) { //Loads map on screen\n\t\tthis.ngUnsubscribe.next();\n\t\tthis.ngUnsubscribe.complete();\n\n\t\tlet options = { timeout: 10000, enableHighAccuracy: true };\n\n\n\t\tlet mapOptions = {\n\t\t\tcenter: MapCords[0].latlng,\n\t\t\tzoom: 15,\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP,\n\t\t\n\t\t}\n\n\n\n\n\t\tthis.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n\t\t\n\t\tthis.MarkersSet(visitedInfo, MapCords);\n\t}\n\n\tMarkersSet(visitedInfo, MapCords) { // Sets appropriate marker on screen\n\t\tvar map = this.map;\n\n\t\tvar VMimg = \"http://maps.google.com/mapfiles/ms/icons/green-dot.png\";\n\t\tvar Mimg = \"http://maps.google.com/mapfiles/ms/icons/red-dot.png\";\n\t\tvar Myimg = \"https://thumb.ibb.co/ee2skm/walker.png\";\n\t\tvar Bimg = \"https://thumb.ibb.co/khngd6/Online35.png\";\n\t\n\t\tvar VBimg = \"https://thumb.ibb.co/j1Mk5m/Online_G35.png\";\n\n\n\n\t\tthis.MyMarker = new google.maps.Marker({});\n\t\t\n\t\tthis.MyMarker.setMap(map);\n\t\tthis.MyMarker.setIcon(Myimg);\n\n\n\n\t\tvar markers;\n\t\tvar num: number;\n\t\tif (this.Scenario == \"Chron\") {\n\t\t\t\n\t\t\tif (visitedInfo.length < MapCords.length) {\n\t\t\t\tnum = visitedInfo.length;\n\t\t\t\n\t\t\t\tif (MapCords[num].PoiName.substring(0, 6) != \"Marker\")\n\t\t\t\t\tvar img = Bimg;\n\t\t\t\telse\n\t\t\t\t\tvar img = Mimg;\n\t\t\t\tvar marker = new google.maps.Marker({\n\n\t\t\t\t\tposition: MapCords[num].latlng,\n\t\t\t\t\tmap: map,\n\t\t\t\t\ticon: img\n\n\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (let i = 0; i < MapCords.length; i++) {\n\t\t\t\t\n\n\t\t\t\tmarkers = new google.maps.Marker({});\n\n\t\t\t\tmarkers.setPosition(MapCords[i].latlng);\n\t\t\t\tmarkers.setMap(map);\n\t\t\t\n\t\t\t\tif (MapCords[i].PoiName.substring(0, 6) != \"Marker\")\n\t\t\t\t\tmarkers.setIcon(Bimg);\n\t\t\t\telse\n\t\t\t\t\tmarkers.setIcon(Mimg);\n\n\n\t\t\t}\n\t\t}\n\n\n\t\tif (visitedInfo.length > 0) {\n\t\t\tfor (let i = 0; i < visitedInfo.length; i++) {\n\t\t\t\tmap.setCenter(visitedInfo[i].latlng);\n\t\t\n\t\t\t\tmarkers = new google.maps.Marker({});\n\n\t\t\t\tmarkers.setPosition(visitedInfo[i].latlng);\n\t\t\t\tmarkers.setMap(map);\n\t\t\t\tmarkers.addListener('dblclick', () => this.FindData(visitedInfo[i].visited));\n\t\t\t\t\n\n\n\t\t\t\tif (visitedInfo[i].visited.substring(0, 6) != \"Marker\")\n\t\t\t\t\tmarkers.setIcon(VBimg);\n\n\n\t\t\t\telse\n\t\t\t\t\tmarkers.setIcon(VMimg);\n\t\t\t}\n\t\t}\n\n\n\n\n\n\n\n\n\n\t}\n\n\n\n\n\tGetPhoto() { //Calls a function to get  a photo and pushes to an array\n\n\n\n\t\tnew OpenCamPage(this.filePath, this.fileChooser, this.navParams, this.videoEditor, this.mediaCapture, this.file, this.modalCtrl).OpenCam().then(img => {\n\t\t\tthis.Images.push(img);\n\t\t\t\n\t\t\tthis.upload();\n\t\t});\n\n\n\n\n\n\n\n\n\n\n\t}\n\n\tGetData() { //Calls a function to open file system and pushes to an array\n\n\n\t\tnew OpenCamPage(this.filePath, this.fileChooser, this.navParams, this.videoEditor, this.mediaCapture, this.file, this.modalCtrl).Open().then(filePath => {\n\t\t\n\t\t\tvar DataInfo = new StringManipulationPage().CheckType(filePath);\n\n\n\n\t\t\tnew CamPage(this.file, this.mediaCapture).dataUrl(DataInfo.DirPath, DataInfo.Name + \".\" + DataInfo.Type).then(FileEntry => {\n\n\t\t\t\n                     \n                  \n\t\t\t\tthis.DataType(DataInfo, FileEntry, filePath);\n\n\t\t\t\n\t\t\t})\n\n\n\n\n\t\t});\n\n\n\t}\n      //Check the type of imported data if it is not the appropriate rejects it\n\tDataType(DataInfo, FileEntry, filePath) {\n\n\t\tswitch (DataInfo.Type) {\n\n\t\t\tcase \"mp4\":\n\n\t\t\t\tnew OpenCamPage(this.filePath, this.fileChooser, this.navParams, this.videoEditor, this.mediaCapture, this.file, this.modalCtrl).MakeVideoThumnail(filePath, DataInfo.Name).then(thumbnail => {\n\t\t\t\t\t\n\t\t\t\t\tvar tmp = {\n\t\t\t\t\t\tvideo: FileEntry,\n\t\t\t\t\t\tthumbnail: thumbnail\n\n\n\t\t\t\t\t};\n\t\t\t\t\tthis.Videos.push(tmp);\n\t\t\t\t\t\n\t\t\t\t\tthis.upload();\n\t\t\t\t})\n\n\t\t\t\tbreak;\n\t\t\tcase \"jpg\":\n\t\t\t\tthis.Images.push(FileEntry);\n\t\t\t\t\n\t\t\t\tthis.upload();\n\t\t\t\tbreak;\n\t\t\tcase \"mp3\":\n\t\t\t\tthis.Audio.push(FileEntry);\n\t\t\t\t\n\t\t\t\tthis.upload();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tvar subtitle = \"Only mp4,jpeg and mp3 are allowed\";\n\t\t\t\tthis.CheckAlert(subtitle);\n\n\t\t}\n\n\n\n\t}\n\n\tGetVideo() {//Calls a function to get  video and pushes to an array\n\n\n\t\tnew OpenCamPage(this.filePath, this.fileChooser, this.navParams, this.videoEditor, this.mediaCapture, this.file, this.modalCtrl).OpenVid().then(vid => {\n\n\t\t\tthis.Videos.push(vid);\n\t\t\t\n\t\t\tthis.upload();\n\t\t});\n\n\n\n\n\n\n\t}\n\n\tupload() { //Sets the paths of data  and uploads them in firebase\n\n\t\tvar usr = this.afAuth.auth.currentUser;\n\t\n\t\tvar dbPath = \"/User/\" + usr.uid + \"/ResponseData/\" + this.newid.key + \"/\" + this.visitedInfo[this.visitedInfo.length - 1].visited;\n\t\tvar StoragePath = \"/User/\" + this.newid.key + \"/\" + this.visitedInfo[this.visitedInfo.length - 1].visited;\n\t\tvar counters=new FirePage(this.af, this.loadingCtrl).FirebaseResponseUpload(dbPath, this.Videos, this.Images, this.Audio, this.id, StoragePath,this.Icnt,this.Vcnt,this.Acnt);\n\t\n\t\tthis.Icnt=counters.Icnt;\n\t\tthis.Vcnt=counters.Vcnt;\n\t\tthis.Acnt=counters.Acnt;\n\t\tthis.setToNull();\n\t}\n\n\n\n\tResponse() { //Uploads the user response to firebase\n\t\tvar dbPath;\n\t\n\t\tdbPath = this.GamePath + \"/\" + this.visited;\n\t\t\n\t\t\n\n\t\tlet profileModal = this.modalCtrl.create(ResponsePage, {\n\t\t\tid: this.id,\n\t\t\tGamePath: this.GamePath,\n\t\t\tdbPath: dbPath,\n\t\t\tMCvisited: this.MCvisited,\n\t\t\tCurrentPoi: this.visited\n\t\t});\n\n\t\tprofileModal.onDidDismiss((results, check) => {\n\n\t\t\t\n\n\n\t\t\tif (check == \"false\") {\n\t\t\t\tthis.MCvisited.push({\n\t\t\t\t\tName: this.visited,\n\t\t\t\t\tMultipleChoices: results[0].MultipleChoices,\n\t\t\t\t\tMultipleChoicesAnswers: results[0].MultipleChoicesAnswers\n\t\t\t\t});\n\t\t\t\t\n\n\t\t\t\tvar usr = this.afAuth.auth.currentUser;\n\t\t\t\tvar usrid = usr.uid\n\t\t\t\tvar newid = this.newid.key;\n\t\t\t\n\t\t\t\n\t\t\t\tvar path = \"/User/\" + usr.uid + \"/ResponseData/\" + newid + \"/\" + this.visited;\n\t\t\t\n\t\t\t\tnew FirePage(this.af, this.loadingCtrl).FirebaseMultipleChoiceUpload(results[0].MultipleChoicesAnswers, path, dbPath);\n\t\t\t\n\t\t\t}\n\t\t});\n\t\tprofileModal.present();\n\t}\n\n\n\tpressPhoto(blob, type) { //Opens a modal on screen\n\n\t\n\n\t\tlet profileModal = this.modalCtrl.create(ModalPopPage, {\n\t\t\tURL: blob,\n\t\t\tType: type\n\t\t});\n\n\t\tprofileModal.present();\n\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/starter/start.ts","import { NavController, NavParams } from 'ionic-angular';\r\nimport { Component } from '@angular/core';\r\nimport {\r\n GoogleMap,\r\n GoogleMapsEvent,\r\n LatLng,\r\n MarkerOptions,\r\n Marker\r\n \r\n\r\n \r\n} from '@ionic-native/google-maps';\r\nimport { BeaconPage } from '../starter/beacon';\r\nimport {AngularFireDatabase} from 'angularfire2/database';\r\n\r\n\r\nimport { BLE } from '@ionic-native/ble';\r\ndeclare var google;\r\n@Component({\r\n  selector: 'page-chron'\r\n  \r\n})\r\n\r\n\r\nexport class ChronPage {\r\n\t\r\n\tconstructor(public navCtrl: NavController, public navParams: NavParams,public af: AngularFireDatabase,private ble: BLE) {\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tLowestNum(MapCords){\r\n\t\t\r\n\t\t\r\n\t\tMapCords.sort(function(a, b) {\r\n          return a.Inum - b.Inum});\r\n\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\tLowNum(InumArray){\r\n\t\t\r\n\t\r\n\t\t\r\n\t\tInumArray.sort(function(a, b){return a-b});\r\n\t\t\r\n\t\r\n\t\t\r\n\t\t\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\t// Starts chronoligicall scenario\r\n\tstartchron(accuracy,InumArray,CordsArray,Currentlatlng,visitedInfo,devices,BIDs){\r\n\t\t\tfor (let cord of CordsArray){ //lopps through cordinates array\r\n\t\t\t\r\n\t\t\r\n\t\t\tvar data=this.Nearest(accuracy,InumArray,cord,Currentlatlng,visitedInfo,devices,BIDs);\r\n\t\t\tif( data != undefined){\r\n\t\t\r\n\t\t\t     return data; \r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t}\r\n\t\r\n\t Nearest(accuracy,InumArray,cord,Currentlatlng,visitedInfo,devices,BIDs){ //Searches if the current coordinates matches with any of POIs\r\n\r\n\t var data;\r\n  \r\n\t if(accuracy == undefined){\r\n\t\t \r\n\t\t accuracy=6;\r\n\t\t \r\n\t\t \r\n\t }\r\n\t \r\n\t var Clat=Currentlatlng.lat().toString().substr(0,accuracy);\r\n\t  \r\n\t var Clng= Currentlatlng.lng().toString().substr(0,accuracy);\r\n\t  \r\n \r\n\r\n\t\t\r\n\t\t  var lat=cord.val().Lat.toString().substr(0,accuracy);\r\n\t\t  var lng=cord.val().Long.toString().substr(0,accuracy);\r\n\t\t\t\t\r\n\t\t\t\t\tvar latlng = new google.maps.LatLng(cord.val().Lat,cord.val().Long);\r\n\t\t\t\t\t\r\n\t\t\t\t\t  if(InumArray[0]==cord.val().Inum)\r\n\t\t\t\t\t\t   if( Clat == lat)\r\n\t\t\t\t\t\t  if( Clng == lng)\r\n\t\t\r\n\t\t  if(cord.key.substr(0,6) == \"Marker\"){ //check if it is a map marker \r\n\t\t\t\t\t\tvar value=this.CheckExistence(cord.key,visitedInfo);\r\n\t\t\t\t\t     \r\n\t\t\t\t\t\tif(value == \"-1\"){\r\n\t\t\t\t\t\r\n                        this.MakeData(InumArray,visitedInfo,cord,latlng);\r\n\t\t\t\t\t\t\tvar data=cord.val().Data;\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t        return data;        \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  }\r\n\t\t\telse{        //check if it is a beacon \t\t\t  \r\n                     \r\n\t\t\t\t\t\r\n\t\t\t\t\t\t for (let device of devices){ \r\n\t\t\t\t\t\r\n\t\t  if(visitedInfo.indexOf(device.id) === -1 || visitedInfo ==  undefined) //check if poi is already visited\r\n\t           if(cord.key == device.id)  \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.MakeData(InumArray,visitedInfo,cord,latlng);\r\n\t\t\t\t\t\r\n\t\t\t\t\t BIDs.push(cord.key);\r\n\t\t\t\t\tvar data=cord.val().Data;\r\n\t\t\t\t\t     \r\n\t\t\t               return data;   \r\n            \t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t  }\r\n          \r\n }   \r\n \r\n //Returns the data submited from the admin to the POI\r\n MakeData(InumArray,visitedInfo,cord,latlng){\r\n\t \r\n\t InumArray.shift(); \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t           \r\n\t\t\t\t\t  var temp ={ latlng : latlng,\r\n\t\t\t\t\t                    visited: cord.key\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t visitedInfo.push(temp);\r\n\t \r\n\t \r\n\t \r\n\t \r\n\t \r\n }\r\n \r\n \r\n\t\r\n\t\r\n\t\r\n\r\n\t\r\n\r\n\t\r\n\tCheckExistence(key,visitedInfo){ //Returns -1 if POI is already visited\r\n\t var val=\"-1\";\r\n\t          for (let visit of visitedInfo) {\r\n\t\t\t\t\t\tif(visit.visited == key)\r\n\t\t\t\t\t\t     val=key;\r\n                             \r\n\t\t\t\t\t\t}\r\n\t\r\n\treturn val;\r\n\t\r\n}\r\n\t\r\n\t\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/chronologically/chron.ts","import { Component,ViewChild,ElementRef } from '@angular/core';\r\nimport { NavController, NavParams,App,Content,ModalController   } from 'ionic-angular';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport {AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable} from 'angularfire2/database';\r\nimport { BeaconPage } from '../starter/beacon';\r\nimport {FinderPage} from '../starter/finder';\r\nimport { ModalPopPage } from '../modal/modalpop';\r\nimport { StartPage } from '../starter/start';\r\nimport { BLE } from '@ionic-native/ble';\r\nimport * as MarkerClusterer from 'node-js-marker-clusterer';\r\nimport {\r\n GoogleMap,\r\n GoogleMapsEvent,\r\n LatLng,\r\n MarkerOptions,\r\n Marker\r\n \r\n} from '@ionic-native/google-maps';\r\n\r\ndeclare var google;\r\n@Component({\r\n  selector: 'page-AlreadyVisited',\r\n  templateUrl: 'AlreadyVisited.html'\r\n})\r\nexport class AlreadyVisitedPage {\r\n\t@ViewChild(Content) content: Content;\r\n\tpublic visitedInfo=0;\r\n public markers=[];\r\n public infowindow=[];\r\n public data;\r\n public IDs=[];\r\n public formData=[];\r\n public VideoUrls=[];\r\n public blobs=[];\r\n public CordsArray=[];\r\n@ViewChild('map') mapElement: ElementRef;\r\n public  map: any;\r\n  \r\n constructor( public modalCtrl: ModalController, public appCtrl: App,private geolocation: Geolocation,public navCtrl: NavController, public navParams: NavParams, public af: AngularFireDatabase,private ble: BLE) {\r\n\r\n  }\r\n  \r\n  // Class finds and displays already visited POIs\r\n  \r\n     ngOnInit(){\r\n\t\t\r\n\r\n var visitedInfo: any = this.navParams.get('Name');\r\nvar CordsArray : any = this.navParams.get('CordsArray');\r\nvar GameType : any = this.navParams.get('GameType');\r\nvar MapCords : any = this.navParams.get('MapCords');\r\n this.CordsArray=CordsArray;\r\n\r\nif( GameType == \"Beacons\"){\r\n\t\r\n\t this.IDs=visitedInfo;\r\n\r\n}\r\nelse{\r\n\t this.visitedInfo=visitedInfo;\r\n\t this.loadMap(visitedInfo);\r\n   \r\n}\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t// Load map on screen\r\n\r\n\t loadMap(visitedInfo){ \r\n\t\r\n\r\n\t  let options = {timeout: 10000, enableHighAccuracy: true};\r\n\r\n\r\n  let mapOptions = {\r\n      center: visitedInfo[0].latlng,\r\n      zoom: 15,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n  \r\n    }\r\n\r\n   this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n\t\r\n\t \r\n\t\r\n\r\n\t\t \tvar map=this.map;\r\n\t\t\t   let markers = visitedInfo.map((visit,i) => {\r\n                return new google.maps.Marker({\r\n                    position: visit.latlng,\r\n                    label: i.toString()\r\n\t\t\t\t\t\r\n                });\r\n            });\r\n\t\t\tvar i=0;\r\n            for (let visit of visitedInfo){\r\n\t\t\t markers[i].addListener('dblclick',() => this.FindData(visit.latlng,visit.visited,this.CordsArray));\r\n\t\t\t i++;\r\n\t\t   }\r\n\t\r\n\t\r\n\t var markerCluster = new MarkerClusterer(this.map, markers,\r\n            {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});\r\n       \r\n\r\n\r\n \r\n\r\n \r\n          \r\n\t\t\r\n\t }\r\n\r\n \r\n     FindData(latlng,visited,CordsArray){\r\n\t    this.Top();\r\n\t \r\n\t   \r\n\t   for( let cord of this.CordsArray){\r\n\t\t     if(cord.key == visited){\r\n\t\t\t\t var data=cord.val().Data;\r\n\t\t\t\t\r\n\t\t\t\tthis.DisplayFile(data);\r\n\t\t\t }\r\n\t\t   \r\n\t   }\r\n   }\r\n\r\n   // Displays the POIs id\r\n  IdDispalay(id){\r\n\t     for( let cord of this.CordsArray){\r\n\t\t     if(cord.key == id){\r\n\t\t\t\t var data=cord.val().Data;\r\n\t\t\t\t\r\n\t\t\t\tthis.DisplayFile(data);\r\n\t\t\t\r\n\t\t\t }\r\n\t   }\r\n\r\n  }\r\n\r\n\r\n    DisplayFile(data){ //Puts files to appropriate arrays for displaying them  \r\n\r\n\r\n\t        this.formData=[];\r\n\t\t   this.VideoUrls=[];\r\n\t\t   this.blobs=[];\r\n\t\t\t\t\r\n\t\t\tfor (var key in data) {\r\n\t\t\t\r\n\t\t\t   \r\n\t\t\t   \r\n\t\t\t\t\r\n\t\t\t\t if(key.substr(0,1) == \"G\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\t this.formData.push(data[key]);\r\n\t\t\t\t\t \r\n\t\t\t\t }\r\n\t\t\t\t \r\n\t\t\t\t if(key.substr(0,1) != \"G\"){\r\n\t\t\t\t   if(key.substr(0,1) == \"v\"){\r\n\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t  new FinderPage(this.af).GetVidData(data,key).then(url =>\r\n\t\t\t  {\r\n\t\t\t\t this.VideoUrls.push(url); \r\n\t\t\t\r\n\t\t\r\n\t\r\n\r\n\t\t\r\n\t\t\t  })\r\n\t }\r\n\t\telse {\r\n\t\t\t  if(key.substr(0,1) != \"M\"){\r\n\t\t\t\r\n                  new FinderPage(this.af).GetData(data,key).then(urlobj =>\r\n\t\t\t  { \r\n\t\t\t    \r\n                      this.blobs.push(urlobj); \r\n\r\n\t\t\t  } )\r\n\t\t\t }\r\n\t\t}\t\t\r\n\t\t\t\t   \r\n\t\t\t\t   \r\n\t\t\t\t   \r\n\t}\r\n\t\r\n\r\n\r\n\t}\r\n\r\n               \r\n\t\t\t\t  \r\n\t\t\t \r\n\r\n\t  }\r\nTop(){\r\n\t\r\n\t\t\r\n this.content.resize();\r\n\r\n\t\r\n}\r\n pressPhoto(blob,type){//Opens a modal on screen\r\n\t \r\n\t\r\n\t\t\r\n   let profileModal = this.modalCtrl.create(ModalPopPage, { Blob: blob,\r\n                                                             Type: type       });\r\n   \r\n   profileModal.present();\r\n  \r\n \r\n }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/visited/AlreadyVisited.ts","import { Component,ViewChild ,ElementRef,AfterViewInit,OnInit} from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Validators, FormGroup, FormArray, FormBuilder } from '@angular/forms'\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\nimport { File } from '@ionic-native/file';\nimport { VideoEditor } from '@ionic-native/video-editor';\n@Component({\n  selector: 'page-cam'\n})\n\n\n\n export class CamPage  {\n\n\n  constructor(private file: File,private mediaCapture: MediaCapture ) {\n\n\t \n\t  \n  }\n\n\n Cam(){ //opens camera  \n\n\n\n\n\nlet options: CaptureImageOptions = { limit: 1};\n return this.mediaCapture.captureImage(options)\n  .then(\n    function(data: MediaFile[]) { \n\t\n\n\t\n\t\n\t\n      \n\treturn data;\n\t},(err: CaptureError) => {\n\t\tconsole.error(\" CaptureError error\",err);\n\t\treturn false;\n\t});\n\n\n\n }\n \n //Read file and return data as a base64 encoded data url\n dataUrl(DirPath,Name){\n\t \n\n\treturn  this.file.readAsDataURL(DirPath,Name).then(function (FileEntry) {\n           \n\n             return FileEntry;\n\n      },function (error) {\n         console.log(\" FileEntry error\",error);\n      });  \n\t \n\t \n\t \n\t \n }\n\n \n  ThumbdataUrl(result,thumbName){ \n\n\t            var Path=\"file://\"+result;\n\t\t\t\n              var thumbPath = Path.replace(thumbName+\".jpg\", \"\"); \n           \n\t\t        \n\treturn  this.file.readAsDataURL(thumbPath,thumbName+\".jpg\").then(function (FileEntry) {\n          \n\n             return FileEntry;\n\n      },function (error) {\n         console.log(\"error\",error);\n      });  \n\t \n\t \n\t \n\t \n }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/gps/cam.ts","import { Component,ViewChild,ElementRef } from '@angular/core';\nimport { NavController, NavParams,Content,ModalController,ViewController } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { VideoEditor } from '@ionic-native/video-editor';\nimport {AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable} from 'angularfire2/database';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\nimport {FinderPage} from './finder';\nimport { File } from '@ionic-native/file';\nimport { BeaconPage } from './beacon';\nimport {GeoPage} from '../geographically/geo';\nimport {ChronPage} from '../chronologically/chron';\nimport { AlreadyVisitedPage } from '../visited/AlreadyVisited';\n\nimport { CamPage } from '../../gps/cam';\nimport { VidPage } from '../../gps/vid';\nimport { ResponsePage } from '../response/response';\nimport {StringManipulationPage} from '../../StringManipulation/string_manipulation';\nimport { ModalPopPage } from '../modal/modalpop';\n\nimport { BackgroundMode } from '@ionic-native/background-mode';\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport { FilePath } from '@ionic-native/file-path';\nimport {FirePage} from '../../gps/fire';\nimport {\n GoogleMap,\n GoogleMapsEvent,\n LatLng,\n MarkerOptions,\n Marker\n \n} from '@ionic-native/google-maps';\nimport { BLE } from '@ionic-native/ble';\n\n\n\n\ndeclare var google;\n@Component({\n  selector: 'page-opencam',\n    templateUrl: 'start.html'\n})\n\n\nexport class OpenCamPage {\n\t@ViewChild(Content) content: Content;\n    public Images=[];\n\tpublic Videos=[];\n\tpublic Audio=[];\n\tpublic id;\n    public InumArray=[];\n\tpublic MapCords=[];\n\tpublic visited: boolean;\n\n  constructor(private filePath: FilePath,private fileChooser: FileChooser,public navParams: NavParams,private videoEditor: VideoEditor,private mediaCapture: MediaCapture,private file: File,public modalCtrl: ModalController /*public af: AngularFireDatabase*/) {\n\n  }\n\n    ngOnInit(){\n\n\t}\n\n\n \n\n  \n \nOpenCam(){ //Opens the device camera for capturing a photograph\n\t\n            \n\t\t\t\t\n       return new CamPage(this.file,this.mediaCapture).Cam().then(imgData =>\n\t\t   { \n\t\t   \n                        \n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar CameraDataInfo= new StringManipulationPage().CameraData(imgData);\n\t\t\t\n\t\t   \n\t\t   \n\t\t\t\treturn new CamPage(this.file,this.mediaCapture).dataUrl(CameraDataInfo.DirPath,CameraDataInfo.Name).then(FileEntry =>\n\t\t        {\n\t\t\t\t\t\n\t\t          this.Images.push(FileEntry); \n\t\t         return  FileEntry;\n\t\t\t\n\t\t     \n\t\t\t\t  })\n         \n\t\t   })\n\t\t\n }\n \n \n     //Capture  video and reads it as data url\n  OpenVid(){\n       \n\t  \n\t\t\t\t   \n     return   new VidPage(this.mediaCapture,this.videoEditor).Vid().then(VidData =>\n\t\t   { \n\t\n\t         \t  \n\t\t\t\t\t\t\n\t\t\t\t\t\t     var vidUri =VidData[0].fullPath;\n\t\t var thumbName = VidData[0].name.substring(0,VidData[0].name.length-4);\n\treturn this.MakeVideoThumnail(vidUri,thumbName).then(thumbnail =>{ \n\t       \n\t\t\t\n\n\t\t\t   var CameraDataInfo= new StringManipulationPage().CameraData(VidData);\n\t\t\t\n\treturn\tnew CamPage(this.file,this.mediaCapture).dataUrl(CameraDataInfo.DirPath,CameraDataInfo.Name).then(FileEntry =>\n\t\t        {\n\t\t\t\n\t\t\tvar tmp ={ video : FileEntry,\n\t\t\t\t\t\t       thumbnail : thumbnail\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t};\n\t\t\t this.Videos.push(tmp);\n\t\t\t \t\n\t\t\t return tmp;\n\t\t\n\t\n\t     })\n\t })\n\n\t\t   })\n }\t\t   \n\t  \n\n\t\t   //Adds a play icon in video thumbnail\n\t\t   MakeVideoThumnail(vidUri,thumbName){\n\t\t\t   \n\n\t\t\t   \n\t\t\t   return  new VidPage(this.mediaCapture,this.videoEditor).VideoThumbnail(vidUri,thumbName).then(result=>{\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\treturn   new CamPage(this.file,this.mediaCapture).ThumbdataUrl(result,thumbName).then(FileEntry =>\n\t\t        {\n\t\t\t         \n\t\t\t\t\t\t\n\t\t\t\t\t\t return this.AddPlayIcon(FileEntry).then(thumbnail => { \n\t\t\t\t\t\t\n\t\t\t\t\t\t         return thumbnail;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\n\t\t})\n\t\t\t   \n\t\t\t   \n\t\t   }\n\t\t   \n\t\t   \n\t\t    AddPlayIcon(thumbnail){ //Adds a play icon to thumbnail with use of canvas\n\t \n\treturn new Promise(resolve =>{\n\t\n\t\t  var c = (<HTMLCanvasElement>document.createElement(\"canvas\"));\n  var ctx = c.getContext(\"2d\");\n   c.width = 128;\n  c.height = 128;\n  var imageObj2 = new Image();\n  var imageObj1 = new Image();\n\t\t  imageObj1.src = thumbnail; \n\n\timageObj2.src = \"file:///android_asset/www/icon.png\";\n imageObj1.onload = function() {\n   ctx.drawImage(imageObj1, 0, 0, 128, 128);\n\n   imageObj2.onload = function() {\n      ctx.drawImage(imageObj2, 39, 39, 50, 50, );\n      var image = c.toDataURL(\"image/jpeg\");\n  \n\t    resolve(image);\n\t   \n   }\n  }\n\t})\n\t\n\t\n\t\n}\n\t\t   \n\t\t   \n\t\t   \n\t\t      Open(){ //Opens the filesystem\n\t   \n\t return  this.fileChooser.open()\n  .then(uri =>{ console.log(uri);\n   \nreturn this.filePath.resolveNativePath(uri).then(filePath => {\n\n \n  return filePath;\n\n\n\t \n  })\n  },\n(e) =>{ console.log(e);\n})\n\n\n\t   \n   }\n\n\n \n \n\n\n \n\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/starter/opencam.ts","import { Component,ViewChild ,ElementRef,AfterViewInit,OnInit} from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Validators, FormGroup, FormArray, FormBuilder } from '@angular/forms'\r\nimport { File } from '@ionic-native/file';\r\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\r\nimport { VideoEditor } from '@ionic-native/video-editor';\r\n\r\n@Component({\r\n  selector: 'page-string_manipulation'\r\n\r\n})\r\n\r\n\r\n export class StringManipulationPage  {\r\n\r\n\r\n  constructor() {\r\n\r\n\t \r\n\t  \r\n  }\r\n\r\n   CheckType(filePath){ //Manipulate string and extracts the name,type and path of it\r\n\t   \r\n\t   \r\n\t    var TypeExtraction = filePath.lastIndexOf(\".\");\r\n        var type = filePath.substring(filePath.length,TypeExtraction+1);\r\n\t   console.log(\"type is :\",type);\r\n\t   \r\n\t    var a = filePath.lastIndexOf(\"/\");\r\n\t\tvar b = filePath.lastIndexOf(\".\");\r\n        var name = filePath.substring(a+1,b);\r\n       var DirPath = filePath.replace(name+\".\"+type, \"\"); \r\n\t   console.log(\"name is:\",name);\r\n\t   console.log(\"DirPath is:\",DirPath);\r\n\t   \r\n\t   var DataInfo={ Type : type,\r\n\t\t         Name: name,\r\n\t\t         DirPath : DirPath\r\n\t\t   \r\n\t             }\r\n\t   \r\n\t   \r\n\t   return DataInfo;\r\n\t   \r\n   }\r\n \r\n   CameraData(CamData){ //Returns the name of photo/video and the path of it\r\n\t   \r\n\t   \r\n\t    var name = CamData[0].name; \r\n\t            var path=CamData[0].fullPath;\r\n\t\t\t\tconsole.log(\"Path\",path);\r\n               var DirPath = path.replace(name, \"\"); \r\n\t\t\t   \r\n\t\t\t   var CameraDataInfo={ Name: name,\r\n\t\t\t\t                   DirPath: DirPath\r\n\t\t\t                      }\r\n\t   \r\n\t     return CameraDataInfo;\r\n\t   \r\n   }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/StringManipulation/string_manipulation.ts","import { Component,ViewChild } from '@angular/core';\r\nimport { NavController, NavParams,Content,ViewController  } from 'ionic-angular';\r\nimport {AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable} from 'angularfire2/database';\r\nimport {\r\n GoogleMap,\r\n GoogleMapsEvent,\r\n LatLng,\r\n MarkerOptions,\r\n Marker\r\n \r\n} from '@ionic-native/google-maps';\r\nimport {CamPage} from '../../gps/cam';\r\nimport {VidPage} from '../../gps/vid';\r\nimport {FirePage} from '../../gps/fire';\r\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\r\nimport { File } from '@ionic-native/file';\r\nimport { LoadingController } from 'ionic-angular';\r\nimport { FinderPage } from '../starter/finder';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { VideoEditor } from '@ionic-native/video-editor';\r\nimport {BrowserModule} from '@angular/platform-browser'\r\nimport {DomSanitizer, SafeUrl, SafeResourceUrl} from \"@angular/platform-browser\";\r\ndeclare var google;\r\n@Component({\r\n  selector: 'page-response',\r\n  templateUrl: 'response.html'\r\n})\r\n\r\n\r\nexport class ResponsePage {\r\npublic isAlreadyAnsweres=false;\r\npublic Images=[];\r\npublic Videos=[];\r\npublic id;\r\npublic GamePath;\r\npublic dbPath;\r\npublic dbResponsePath;\r\npublic paths;\r\npublic StoragePath;\r\npublic MultipleChoices=[];\r\npublic MultipleChoicesAnswers=[];\r\npublic CorrectAnswer;\r\n  constructor(private domSanitizer: DomSanitizer,private videoEditor: VideoEditor,public afAuth: AngularFireAuth,public viewCtrl: ViewController,public af: AngularFireDatabase,private mediaCapture: MediaCapture,private file: File,public loadingCtrl: LoadingController, public navParams: NavParams) {\r\n\r\n  }\r\n\r\n  \r\n  ngOnInit(){\r\n\r\n\t this.GamePath = this.navParams.get('GamePath');\r\n    this.dbPath = this.navParams.get('dbPath'); \r\n\r\n\r\n\t\r\n\t  this.id = this.navParams.get('id');\r\n\t \r\n\t  var visited = this.navParams.get('MCvisited');\r\n\t  var CurrentPoi = this.navParams.get('CurrentPoi');\r\n\t  var isAlreadyAnsweres;\r\n\t  if(visited.length != 0){\r\n\t\t \r\n\t  for  (let key of visited) {  \r\n\t\t  if(key.Name==CurrentPoi){\r\n\t\t\t  this.MultipleChoicesAnswers=key.MultipleChoicesAnswers;\r\n\t\t  this.MultipleChoices=key.MultipleChoices;\r\n\t\t  this.isAlreadyAnsweres=true;\r\n\t\t  this.CheckAnswers();\r\n\t\t  \r\n\t\r\n\t\t  }\r\n\t\t \r\n\t  }\r\n\t  }\r\n\t if( this.isAlreadyAnsweres == false){\r\n\t\t \r\n\t  this.MCstaff();\r\n\t  \r\n\t  }\r\n  }\r\n  //Retrieve multiple choices answer\r\n  MCstaff(){\r\n\tnew FinderPage(this.af).RetrieveKey(this.dbPath+\"/Data/MultipleChoices\").subscribe(MultipleChoicesKeys =>{\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t  var CorrectAnswer;\r\n\t\t\t\t\r\n\t\t\t\tfor  (let key of MultipleChoicesKeys) {\r\n\t\t\t\t\t\r\n\t\t\t\t \r\n\t\t\t\t\t\r\n\t\t\t\t\tnew FinderPage(this.af).RetrivePosition(this.dbPath+\"/Data/MultipleChoices/\"+key).subscribe(MultipleChoices =>{\t\r\n\t\t\t\t\t   \r\n\t\t\t\t\r\n\t\t\t\t\t\t  var answers=[];\r\n\t\t\t\t\t\t   var isCorrectAnswer=[];\r\n\t\t\t\t\t\t   var isYourAnswer=[];\r\n\t\t\t\t\t  for (let answer of MultipleChoices){\r\n\t\t\t\t\t\t     if(answer.key.substr(0,1) == \"C\")\r\n\t\t\t\t\t\t\t\t CorrectAnswer=answer.val();\r\n\t\t\t\t\t\t\t else{\r\n\t\t\t\t\t\t  answers.push( answer.val());\r\n\t\t\t\t\t\t  isCorrectAnswer.push(false);\r\n\t\t\t\t\t\t  isYourAnswer.push(false);\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t   }\r\n\t\t\t\t\t   \r\n\t\t\t\t\t   \t  var obj={ Title: key,\r\n\t\t\t\t\t\t          Answer: \"\",\r\n\t\t\t\t\t\t\t\t   CorrectAnswer: CorrectAnswer\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tthis.MultipleChoicesAnswers.push(obj)\r\n\t\t\t\t\r\n\t\t\t\t\t   \r\n\t\t\t\t\t    var tmp={ Title: key,\r\n\t\t\t\t\t\t          Answers: answers,\r\n\t\t\t\t\t\t\t\t  isCorrectAnswer: isCorrectAnswer,\r\n\t\t\t\t\t\t\t\t  isYourAnswer: isYourAnswer\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t   answers=[];\r\n\t\t\t\t\t\tthis.MultipleChoices.push(tmp);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t  \r\n\t\t\t\t}\r\n\t  });\r\n\t   \r\n\t\r\n\t   \r\n  }\r\n\t\r\n \r\n\r\n \r\n\r\n\t\r\nCheckAnswers(){ //Check if the user's answer is the correct one\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n\t\t\r\n\t\tfor  (let key of this.MultipleChoicesAnswers) {\r\n\t\t\t  \r\n\t\t\tif(key.Answer == key.CorrectAnswer){\r\n\t\t\t\t\r\n\t\t\t\t for (let answer of this.MultipleChoices ){ \r\n\t\t\t\t    \r\n\t\t\t\t\r\n\t\t\t\t\t\t for(let i=0; i< answer.Answers.length; i++){\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t if( answer.Answers[i] == key.CorrectAnswer){\r\n\t\t\t\t\t\t\r\n                          answer.isCorrectAnswer[i]=true;\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t   }\r\n\t\t\t\t\t   \r\n\t\t\t\t\t }\r\n\t\t\t\t }\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  \r\n\t\t\t} else{\r\n\t\t\t\t for  (let answer of this.MultipleChoices){\r\n\t\t\t\t\t      \r\n\t\t\t\t\t for(let i=0; i< answer.Answers.length; i++){\r\n\t\t\t\t\t\t \r\n\t\t\t\tif(answer.Answers[i] == key.CorrectAnswer){\r\n\t\t\t\t\t \r\n\t\t          answer.isCorrectAnswer[i]=true;\r\n\t\t\t\t}\r\n             \tif(key.Answer == answer.Answers[i]){\r\n\t\t\t\t\t\r\n\t\t            answer.isYourAnswer[i]=true;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t  \r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  \r\n\t\t\t\t }\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n       \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\r\n\t\r\n\t \r\n\t\r\n\t\r\n}\r\n\r\ndismiss(){ //Dismiss current page\r\n\tvar results=[];\r\n\tresults.push({ MultipleChoices: this.MultipleChoices,\r\n                   MultipleChoicesAnswers: this.MultipleChoicesAnswers  });\r\n\r\n\t\r\n\t \r\n\tthis.viewCtrl.dismiss(results,this.isAlreadyAnsweres.toString());\r\n}\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\nSetToNull(){ //Sets variables and arrays empty\r\n\t\r\n\tthis.Videos=[];\r\n\tthis.Images=[];\r\n\tthis.MultipleChoicesAnswers[0].Answer != \"\";\r\n\t\r\n\t\r\n}\r\n\r\n\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/response/response.ts","import { Component,Provider } from '@angular/core';\r\nimport { NavController, NavParams, ModalController,ViewController,App } from 'ionic-angular';\r\nimport { StartPage } from '../starter/start';\r\nimport {CheckPage} from '../../home/check';\r\nimport { MenuPage } from '../../home/menu';\r\nimport { FilePath } from '@ionic-native/file-path';\r\nimport { FileChooser } from '@ionic-native/file-chooser';\r\nimport { File } from '@ionic-native/file';\r\nimport { CamPage } from '../../gps/cam';\r\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\r\nimport {StringManipulationPage} from '../../StringManipulation/string_manipulation';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport { Media, MediaObject } from '@ionic-native/media';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html',\r\n})\r\nexport class SettingsPage{\r\npublic image;\r\npublic video;\r\npublic type;\r\npublic sound: MediaObject;\r\npublic  myTracks: any[];\r\npublic  allTracks: any[];\r\n   constructor( public navParams: NavParams,private geolocation: Geolocation,public appCtrl: App,public navCtrl: NavController,private media: Media,private nativeStorage: NativeStorage,private mediaCapture: MediaCapture,private file: File,private fileChooser: FileChooser,private filePath: FilePath,public viewCtrl: ViewController) {\r\n\t   \r\n\r\n\r\n\t\t\t   \r\n\t   \r\n   }\r\n\r\n   \r\n  \r\n\r\n\r\n   \r\n   \r\n   \r\n   \t      Open(){ //Opens filesystem\r\n\t\t\t  \r\n\t this.nativeStorage.clear()\r\n  .then(\r\n    () => console.log(\"cleared\"),\r\n    error => console.error('Error clearing', error)\r\n  );\r\n\r\n\t this.fileChooser.open()\r\n  .then(uri =>{ console.log(uri);\r\n\t\r\n this.filePath.resolveNativePath(uri).then(filePath => {\r\n\r\n\r\n\r\n  \r\n  \r\n\t\t this.nativeStorage.setItem('ring', filePath)\r\n  .then(\r\n    () => console.log('Success!'),\r\n    error => console.error('Error storing item', error)\r\n  );\r\n  \r\n\r\n  \r\n  \r\n\r\n\t\r\n\t\r\n\t\t}, error => console.error('Error resolveing Url ', error) );\r\n\t\r\n\r\n \r\n  },\r\n(e) =>{ console.log(e);\r\n})\r\n\r\n\r\n\t   \r\n   }\r\n   \r\nexit(){ //exists and sets CheckPage as root page \r\n\t\r\n\t  var geo = this.navParams.get('geo'); \r\n\t   geo.unsubscribe();\r\n\t  var index = this.navCtrl.getActive().index;\r\n\r\n  this.navCtrl.remove(0, index);\r\n\r\n\r\n\t\r\n\tthis.navCtrl.setRoot(CheckPage);\r\n\t\r\n\t\r\n}\r\n\r\n  close() {\r\n\t   \r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/settings/settings.ts","import { Component,ViewChild ,ElementRef,AfterViewInit,OnInit} from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable } from 'angularfire2/database';\r\nimport * as firebase from 'firebase';\r\nimport { File } from '@ionic-native/file';\r\nimport { LoadingController } from 'ionic-angular';\r\n\r\n\r\n@Component({\r\n  selector: 'page-cam'\r\n})\r\n\r\n\r\n export class FirePage  {\r\n\t\r\n\t   public Iloader=[];\t\r\n       public Vloader=[];\r\n       public Aloader=[];\t   \r\n       public Floader=[];\t\t   \r\n\t   public dataRef;\r\n\t   public task;\r\n\t   public storagePath;\r\n\t   public dbpath;\r\n\t \r\n       obj:  FirebaseObjectObservable<any>;\r\n\t   lst: FirebaseListObservable <any>;\r\n\r\n  constructor(public af: AngularFireDatabase,public loadingCtrl: LoadingController) {\r\n\r\n\t\r\n\t  \r\n  }\r\n  \r\n  \r\n  AddUser(dbPath,user,token){ //Adds a user in firebase database \r\n\t  \r\n\t\r\n\t\r\n\t\t    this.obj=this.af.object(dbPath+user.uid);\r\n\t\t   this.obj.set({email: user.email,UserType: \"User\" });\r\n\t\t  \r\n\r\n\t  \r\n\t  \r\n  }\r\n  \r\n\r\n//Uploads to firebase\r\nFirebaseResponseSetPath(GamePath,dbPath,StoragePath,MultipleChoicesAnswers,id,uid){\r\n\r\n dbPath=\"/User/\"+uid+\"/ResponseData\";\r\n StoragePath=\"/User/\"+uid;\r\n\t\r\n\t\r\n\t\r\n\t this.lst=this.af.list(dbPath);\r\n\tvar  key=this.lst.push('');\r\n\t   var ukey=key.key;\r\n\t\t\r\n\t   this.obj=this.af.object(dbPath+\"/\"+ukey);\r\n\t  \r\n   this.obj.set({GamePath:   GamePath});\r\n    dbPath=dbPath+\"/\"+ukey+\"/\"+id;\r\n\tStoragePath=StoragePath+\"/\"+ukey+\"/\"+id;\r\n\r\n\t\r\n\tvar tmp = {dbResponePath :dbPath,\r\n\t             StoragePath  : StoragePath}\r\n\treturn tmp;\r\n\t\r\n\t\r\n\r\n}\r\n\r\n//Uploads to firebase\r\n\r\nFirebaseResponseUpload(dbPath,Videos,Images,Audio,id,StoragePath,Icnt,Vcnt,Acnt ){\r\n\r\n\t\r\n\t var storageRef = firebase.storage().ref();\r\n\t \r\n\r\n\t\r\n\t    for (let i=0; i<Audio.length; i++){\r\n\t         \r\n                 \r\n\t\t\t   \r\n\t     this.Loading(this.Aloader);\r\n\r\n\t\tthis.SetResponseParams(StoragePath,dbPath,Audio[i],Acnt,\"Audio\",storageRef);\r\n\t\tAcnt++;\r\n\t\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Aloader[i]);\r\n\t\t \r\n\t }\r\n\t \r\n\t \r\n\t  for (let i=0; i<Videos.length; i++){\r\n\t  \r\n\t\t\t   \r\n\t  this.Loading(this.Vloader);\r\n\r\n\t   this.SetResponseParams(StoragePath,dbPath,Videos[i].video,Vcnt,\"video\",storageRef);\r\n\t  \r\n\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Vloader[i]);\r\n\t   this.Loading(this.Vloader);\r\n\t   this.SetResponseParams(StoragePath,dbPath,Videos[i].thumbnail,Vcnt+\"thumbnail\",\"video\",storageRef);\r\n\t   Vcnt++;\r\n\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Vloader[i+1]);\r\n\t   \r\n\t }\r\n\t\r\n\t\r\n\r\n\tfor (let i=0; i<Images.length; i++){\r\n\t \r\n\t\r\n\tthis.Loading(this.Iloader);\r\n\t\r\n\t\t this.SetResponseParams(StoragePath,dbPath,Images[i],Icnt,\"image\",storageRef);\r\n\t\t Icnt++;\r\n\t\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Iloader[i]);\r\n\t   \r\n\t\r\n\t \r\n\t }\r\n\r\n\tvar counters={}\r\n\r\n\r\n\r\n\t\r\n\treturn counters={\r\n\t\t\t   Icnt: Icnt,\r\n\t\t\t   Vcnt: Vcnt,\r\n\t\t\t   Acnt: Acnt\r\n\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\nFirebaseMultipleChoiceUpload(clicked,path,dbpath){ //Uploads multiple choices to \r\n\t\r\n\t \r\n\t for  (let Mc of clicked) {\r\n\t\t\r\n\t\t this.obj=this.af.object(path+\"/MultipleChoices/Answers/\" +Mc.Title); \r\n   this.obj.set( Mc.Answer);\r\n\t\t \r\n \r\n\t }\r\n\t\t this.obj=this.af.object(path+\"/MultipleChoices/\" ); \r\n\t this.obj.update({MCpath:dbpath});\r\n\t\r\n\t\r\n\t\r\n\t\r\n}\r\nFirebaseSet(dbPath,latit,longit ){ //sets the latitude and longitude to firebase\r\n\r\n\t  this.obj=this.af.object(dbPath);\r\n  this.obj.set({Lat: latit , Long: longit });\r\n   \r\n    \r\n  \r\n   \r\n}\r\n\r\n//Uploads to firebase\r\n\t\r\nFirebaseUpload(keimeno,Password,StoragePath,dbPath,Videos,Images,Audio,gform,i,ScenarioPath,ScenarioType,McData,res ){\r\n\t\r\n\t\r\n\t  if(res == \"True\"){\r\n\t\t   this.obj=this.af.object(dbPath);\r\n          this.obj.update({Response: res});\r\n\t  }\r\n     var mdbPath=dbPath+\"/Data/MultipleChoices\";\r\n \r\n\r\n\t \r\n this.obj=this.af.object(mdbPath );\r\n for (let Name of McData){\r\n\t  if(Name.Title!= undefined){\r\n\t \r\n\t  this.obj=this.af.object(mdbPath+\"/\"+ Name.Title);\r\n this.obj.set({Answer1: Name.Fdata.Data1 , Answer2 : Name.Fdata.Data2, Answer3 :Name.Fdata.Data3, CorrectAnswer: Name.CorrectAnswer});\r\n\t  }\r\n\r\n  }\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t if(i ==0){\r\n\t   this.obj=this.af.object(ScenarioPath);\r\n   this.obj.update({ScenarioType:   ScenarioType,  Password: Password});\r\n  }\r\n\r\n\t   \r\n\t  \r\n\t\t \r\n var storageRef = firebase.storage().ref();\r\n\r\n var vdata =[];\r\n  \r\n\r\nthis.obj=this.af.object(dbPath);\r\n\tthis.obj.update({Inum: i});\r\n\t\r\n\r\n   \r\n   \r\n   \r\n\r\n   \r\n   if(keimeno != undefined){\r\n\tthis.obj=this.af.object(dbPath+\"/Data\");\r\n\tthis.obj.update({ Text: keimeno});\r\n   }\r\n\r\n\t\r\n\t\r\n\tif (Videos.length==0){\r\n\t\tconsole.log(\"videos lenght enterd\",Videos.length);\r\n\t\tif (Images.length==0){\r\n\t\t\tconsole.log(\"image lenght enterd\",Images.length);\r\n\t\t      \r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tfor (let i=0; i<Audio.length; i++){\r\n\t \r\n\t\r\n\t\tthis.Loading(this.Aloader);\r\n\t\t this.SetParams(StoragePath,dbPath,Audio[i],i,\"Audio\",storageRef);\r\n\t\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Aloader[i]);\r\n\t   \r\n\t\r\n\t \r\n\t }\r\n\t\r\n\r\n\t   \r\n\r\n for (let i=0; i<Videos.length; i++){\r\n\t  \r\n\t\t\t   \r\n\t  this.Loading(this.Vloader);\r\n\r\n\t   this.SetParams(StoragePath,dbPath,Videos[i].video,i,\"video\",storageRef);\r\n\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Vloader[i]);\r\n\t   this.Loading(this.Vloader);\r\n\t   this.SetParams(StoragePath,dbPath,Videos[i].thumbnail,i+\"thumbnail\",\"video\",storageRef);\r\n\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Vloader[i+1]);\r\n\t   \r\n\t }\r\n\t\r\n\r\n\tfor (let d=0; d<Images.length; d++){\r\n\t \r\n\t\t\r\n\t\tthis.Loading(this.Iloader);\r\n\t\t this.SetParams(StoragePath,dbPath,Images[d],d,\"image\",storageRef);\r\n\t\t this.storeInputData(this.task,this.storagePath,this.dbpath,this.af,this.Iloader[d]);\r\n\t   \r\n\t\r\n\t \r\n\t }\r\n      \r\n\r\n     i++;\r\n\t \r\n\t \r\n\t return i;\r\n\t \r\n\t \r\n\t \r\n\t \r\n }\r\n \r\n//Uploads to firebase storage\r\n\tstoreInputData(task,StoragePath,dbPath,af,loader){  \r\n   \r\n\t\r\n\t return new Promise (function (resolve,reject){\r\n\t\t\r\n\t\t  loader.present();\r\n\r\n\t \r\n\t task.on('state_changed',\r\n            function progress(snapshot){\r\n                var percentage = snapshot.bytesTransferred / snapshot.totalBytes * 100;\r\n\t\t\t\tconsole.log(percentage,\"%  completed \");\r\n                 \r\n\t\t\t\t  if  (dbPath.includes(\"thumbnail\") == false){\r\n\t\t\t\r\n\t\t\t\t this.obj=af.object(dbPath);\r\n                this.obj.set(StoragePath);\r\n\t\t\t\t  }\r\n\t\t\t \r\n            },\r\n            function error(err){\r\n               console.log(\"error is:\",err);\r\n            },\r\n            function complete(){\r\n\t\t\t\r\n\t\t\t\t loader.dismiss();\r\n\t\t\t\t\r\n\t\t\t\t\t \r\n            }\r\n        );\r\n\t \r\n\t \r\n\t \r\n\t \r\n\t \r\n\t });\r\n\t \r\n\r\n\t \r\n }\r\n\r\n \r\n \r\n \r\n \r\n\t \r\n\t \r\n\t \r\n\t SetParams(StoragePath,dbPath,file,count,type,storageRef){ //set the appropriate path for firebase\r\n\t\t \r\n\t\r\n\t\t        this.dbpath=dbPath+\"/Data/\"+type+\"Input\"+count;\r\n\t            this.storagePath=StoragePath+\"/\"+type+\"Input\"+count;\r\n                this.dataRef = storageRef.child(this.storagePath);\r\n\t            this.task=this.dataRef.putString(file,'data_url');\r\n\t\t  \r\n\t\t\r\n\t }\r\n \r\n \t SetResponseParams(StoragePath,dbPath,file,count,type,storageRef){ //set the response parameters for firebase\r\n\t\t \r\n\t\r\n\t\t        this.dbpath=dbPath+\"/\"+type+\"Input\"+count;\r\n\t            this.storagePath=StoragePath+\"/\"+type+\"Input\"+count;\r\n                this.dataRef = storageRef.child(this.storagePath);\r\n\t            this.task=this.dataRef.putString(file,'data_url');\r\n\t\t  \r\n\t\t\r\n\t }\r\n \r\n \r\n  \r\n  \r\nLoading(loader) { //puts a loader to the screen\r\n    loader.push(this.loadingCtrl.create({\r\n      content: \"Please wait...\",\r\n   \r\n    }) \r\n\t )\r\n   \r\n\t\r\n\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/gps/fire.ts","import { Component,ViewChild } from '@angular/core';\r\nimport { NavController, NavParams ,Content} from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport {FirePage} from '../gps/fire';\r\n\r\nimport { AlertController } from 'ionic-angular';\r\nimport {MenuPage} from './menu';\r\nimport { LoadingController,App,ViewController } from 'ionic-angular';\r\nimport { Firebase } from '@ionic-native/firebase';\r\nimport * as firebase from 'firebase';\r\n@Component({\r\n  selector: 'page-registration',\r\n  templateUrl: 'registration.html'\r\n})\r\n\r\n\r\n\r\nexport class RegistrationPage {\r\n@ViewChild(Content) content: Content;\r\n  \r\n      public token;\r\n      \r\n\t  \r\n\r\n    Rform={Email:\"\",Password:\"\"};\r\n\r\n  constructor(public alertCtrl: AlertController, public viewCtrl: ViewController,public appCtrl: App,public af : AngularFireDatabase,public navCtrl: NavController, public navParams: NavParams,public afAuth: AngularFireAuth,public loadingCtrl: LoadingController) {\r\n\t  \r\n  \r\n\t  \r\n  }\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//Registers a user with firebase auth\r\n    Register(){\r\n\t\r\n\t  \r\n\t  \r\n\t\r\n\t  \r\n\t  this.afAuth.auth.createUserWithEmailAndPassword(this.Rform.Email, this.Rform.Password).then(()=>{\r\n\t  \r\n\t  \r\n\t  var user =  this.afAuth.auth.currentUser;\r\n\t  \r\n\t   var dbPath=\"/User/\";\r\n\t   if(user != null)\r\n\t      new FirePage(this.af,this.loadingCtrl).AddUser(dbPath,user,this.token);\r\n        \r\n\t  \r\n\t  \r\n\t  },(error) =>{\r\n\t\r\n \r\n   var errorMessage = error.message;\r\n    console.log(\"error\",errorMessage);\r\n\tthis.AlreadyExist(errorMessage);\r\n});\r\n\r\n\r\n\t\r\n\r\n\t  \r\n  }\r\n  \r\n\r\n  \r\n  SignIn(){  //Sign in with firebase auth\r\n\t  \r\n\t \r\n\t  \r\n\t  \r\n this.afAuth.auth.signInWithEmailAndPassword(this.Rform.Email, this.Rform.Password).then(()=>{\r\n\t\t     var usr = this.afAuth.auth.currentUser;\r\n\r\n\r\n\r\n\t\t  \r\n\t  } ,(error)=> {\r\n  // Handle Errors here.\r\n\r\n  var errorMessage = error.message;\r\n   console.log(\"error\",errorMessage);\r\n   var subtitle=\"A user with that email already exists\";\r\n   this.AlreadyExist(errorMessage);\r\n  // ...\r\n\r\n});\r\n   \r\n\r\n\r\n  }\r\n  \r\n\r\n  AlreadyExist(subtitle) {  //Displays the appropriate message on screen\r\n  let alert = this.alertCtrl.create({\r\n    title: 'Warning',\r\n    subTitle: subtitle,\r\n    buttons: ['Ok']\r\n  });\r\n  alert.present();\r\n}\r\n\r\n\r\n  \r\n  }\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/registration.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { File } from '@ionic-native/file';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport { Media, MediaObject } from '@ionic-native/media';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { MyApp } from './app.component';\nimport { SettingsPage } from '../pages/scenario/settings/settings';\nimport { StartPage } from '../pages/scenario/starter/start';\nimport { OpenCamPage } from '../pages/scenario/starter/opencam';\nimport { ScenarioPage } from '../pages/scenario/starter/scenario';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { VideoEditor } from '@ionic-native/video-editor';\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport { BeaconPage } from '../pages/beacon/beacon';\n\n\nimport { CheckPage } from '../pages/home/check';\nimport { MenuPage } from '../pages/home/menu';\nimport { RegistrationPage } from '../pages/home/registration';\nimport { AlreadyVisitedPage } from '../pages/scenario/visited/AlreadyVisited';\nimport { ModalPopPage } from '../pages/scenario/modal/modalpop';\nimport { Firebase } from '@ionic-native/firebase';\nimport { BLE } from '@ionic-native/ble';\nimport { ResponsePage } from '../pages/scenario/response/response';\nimport { FilePath } from '@ionic-native/file-path';\nimport { BackgroundMode } from '@ionic-native/background-mode';\n\nexport const firebaseConfig = {\n\n\tapiKey: \"\",\n\tauthDomain: \"\",\n\tdatabaseURL: \"\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"\"\n\n};\n\n@NgModule({\n\tdeclarations: [\n\t\tMyApp,\n\t\tRegistrationPage,\n\n\t\tBeaconPage,\n\t\tResponsePage,\n\t\tScenarioPage,\n\t\tModalPopPage,\n\t\tStartPage,\n\t\tAlreadyVisitedPage,\n\t\tMenuPage,\n\t\tCheckPage,\n\t\n\n\n\t\tOpenCamPage,\n\t\tSettingsPage\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tAngularFireModule.initializeApp(firebaseConfig),\n\t\tAngularFireDatabaseModule,\n\t\tAngularFireAuthModule,\n\t\tIonicModule.forRoot(MyApp)\n\t],\n\tbootstrap: [IonicApp],\n\tentryComponents: [\n\t\tMyApp,\n\t\tRegistrationPage,\n\n\t\n\t\tBeaconPage,\n\t\tResponsePage,\n\t\tModalPopPage,\n\t\tScenarioPage,\n\t\tStartPage,\n\t\tAlreadyVisitedPage,\n\t\tMenuPage,\n\t\tCheckPage,\n\t\n\n\n\t\tOpenCamPage,\n\t\tSettingsPage\n\t],\n\tproviders: [\n\t\tStatusBar,\n\t\tGeolocation,\n\t\tVideoEditor,\n\t\tSplashScreen,\n\t\tMediaCapture,\n\t\tDiagnostic,\n\t\tFile,\n\t\tFileChooser,\n\t\tFilePath,\n\t\tFirebase,\n\t\tBLE,\n\t\tBackgroundMode,\n\t\tMedia,\n\t\tNativeStorage,\n\t\t{ provide: ErrorHandler, useClass: IonicErrorHandler }\n\t]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Platform, Nav } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { CheckPage } from '../pages/home/check';\n\n\nimport { BeaconPage } from '../pages/beacon/beacon';\nimport { ScenarioPage } from '../pages/scenario/starter/scenario';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n  rootPage: any = CheckPage;\n\n \n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n\n\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport {AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable} from 'angularfire2/database';\r\nimport {FinderPage} from './finder';\r\nimport { StartPage } from './start';\r\nimport { BLE } from '@ionic-native/ble';\r\nimport 'rxjs/add/operator/map';\r\n@Component({\r\n  selector: 'page-beacon',\r\n  templateUrl: 'start.html'\r\n})\r\nexport class BeaconPage {\r\n\t\r\n\tpublic devices=[];\r\n\t\r\n\t\r\n \tobj:  FirebaseObjectObservable<any>;\r\n    lst: FirebaseListObservable <any>;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public af: AngularFireDatabase,private ble: BLE) {\r\n  \r\n\r\n   \r\n  \r\n  }\r\n\r\n\r\n   \r\n \r\n  startScanning() { //Start scanning for nearby beacons\r\n\t \r\n   console.log(\"startScanning\");\r\n\r\n  this.ble.startScan([]).subscribe(device => {\r\n\t    var adData = new Uint8Array(device.advertising)\r\n\t\t\r\n\t\r\n    console.log(JSON.stringify(device));\r\n\t this.devices.push(device);\r\n\t\r\n\r\n});\r\n\r\nreturn new Promise((resolve) => {\r\n   setTimeout(() => {\r\n     this.ble.stopScan().then(() => {\r\nconsole.log(\"Scanning has stopped\");\r\n\r\n\r\n\r\nresolve(this.devices);\r\n});\r\n}, 3500)\r\n\r\n});\r\n  \r\n\r\n\r\n\t\r\n\t\r\n}\r\n\r\n\r\nfindId(CordsArray){ //Check if id of beacon devices exists in Scenario POIs\r\n\t\r\n\r\n\t var minRssi=-350;\r\n\t var RightId;\r\n\t var data;\r\n\tfor (let id of CordsArray){ \r\n\t for (let device of this.devices){\r\n\t     if(id.key == device.id){\r\n\t\t \r\n       if(  minRssi < device.rssi ) {  \r\n\t\t minRssi=device.rssi;\r\n         RightId=device.id;\r\n\t\t data=id.val().Data;\r\n\t             }\r\n\t\t\r\n\t\t }\r\n\t\r\n\t }\r\n}\r\n\t\r\n\t\r\n  return data;\r\n\r\n \r\n    }\r\n\t\r\n\t\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/starter/beacon.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { BeaconPage } from '../starter/beacon';\r\nimport { FinderPage } from '../starter/finder';\r\nimport { ChronPage } from '../chronologically/chron';\r\nimport { BLE } from '@ionic-native/ble';\r\n\r\n\r\nimport {\r\n\tGoogleMap,\r\n\tGoogleMapsEvent,\r\n\tLatLng,\r\n\tMarkerOptions,\r\n\tMarker\r\n\r\n} from '@ionic-native/google-maps';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\n\r\ndeclare var google;\r\n@Component({\r\n\tselector: 'page-geo'\r\n})\r\n\r\n\r\nexport class GeoPage {\r\n\r\n\tpublic GamePath;\r\n\tpublic CordsArray;\r\n\r\n\tconstructor(private geolocation: Geolocation, public navCtrl: NavController, public navParams: NavParams, public af: AngularFireDatabase, private ble: BLE) {\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\tstartgeo(accuracy, CordsArray, Currentlatlng, visitedInfo, devices, BIDs) { //Loops through returned firebase snapshot and calls Nearest function\r\n\t\tfor (let cord of CordsArray) {\r\n\t\t\t\r\n\r\n\t\t\tvar data = this.Nearest(accuracy, cord, Currentlatlng, visitedInfo, devices, BIDs);\r\n\t\t\tif (data != undefined) {\r\n\t\t\t\t\r\n\t\t\t\treturn data;\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tNearest(accuracy, cord, Currentlatlng, visitedInfo, devices, BIDs) { //Searches if the current coordinates matches with any of POIs\r\n\r\n\t\tvar minRssi = -350; //initializes Rssi as -350\r\n\t\tif (accuracy == undefined) { //if accuracy of latlng is not predifined gets the default value\r\n            \r\n\t\t\taccuracy = 6; //5 digits plus one dot\r\n\r\n\r\n\r\n\t\t}\r\n\t\tvar Clat = Currentlatlng.lat().toString().substr(0, accuracy);\r\n\t\t\r\n\t\tvar Clng = Currentlatlng.lng().toString().substr(0, accuracy);\r\n\t\t\r\n\r\n\t\tvar lat = cord.val().Lat.toString().substr(0, accuracy);\r\n\t\tvar lng = cord.val().Long.toString().substr(0, accuracy);\r\n\r\n\r\n\r\n\t\tvar latlng = new google.maps.LatLng(cord.val().Lat, cord.val().Long);\r\n\t\t\r\n\t\tif (Clat == lat){\r\n\t\t\tif (Clng == lng){\r\n\r\n\t\t\t\tif (cord.key.substr(0, 6) != \"Marker\") { //check if POI is a beacon\r\n\t\t\t\t\r\n\r\n\t\t\t\t\tfor (let device of devices) {\r\n\t\t\t\t\t\tif (new ChronPage(this.navCtrl, this.navParams, this.af, this.ble).CheckExistence(device.id, visitedInfo) === \"-1\" || visitedInfo == undefined)\r\n\t\t\t\t\t\t\tif (cord.key == device.id)\r\n\t\t\t\t\t\t\t\tif (minRssi < device.rssi) {\r\n\t\t\t\t\t\t\t\t\tminRssi = device.rssi;\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar data = cord.val().Data;\r\n\r\n\t\t\t\t\t\t\t\t\tvar temp = {\r\n\t\t\t\t\t\t\t\t\t\tlatlng: latlng,\r\n\t\t\t\t\t\t\t\t\t\tvisited: cord.key\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (temp != undefined) {\r\n\t\t\t\t\t\tvisitedInfo.push(temp);\r\n\t\t\t\t\t\tBIDs.push(cord.key);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar value = new ChronPage(this.navCtrl, this.navParams, this.af, this.ble).CheckExistence(cord.key, visitedInfo);\r\n                 \r\n\t\t\t\t\tif (value == \"-1\") {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.MakeData(visitedInfo, cord, latlng);\r\n\t\t\t\t\t\tvar data = cord.val().Data;\r\n                        \r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\treturn data;\r\n\r\n\t}\r\n\r\n\r\n\tMakeData(visitedInfo, cord, latlng) { //Puts in an array the coordinates and the name of POI\r\n\t\t\t\t\t\t\t\t\t\t  //for visited POIs\r\n\r\n\r\n\r\n\r\n\r\n\t\tvar temp = {\r\n\t\t\tlatlng: latlng,\r\n\t\t\tvisited: cord.key\r\n\t\t};\r\n\t\tvisitedInfo.push(temp);\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\tcordinates() {\r\n\r\n\t\treturn this.geolocation.getCurrentPosition().then((resp) => {\r\n\t\t\t\r\n\t\t\tvar lat = resp.coords.latitude;\r\n\t\t\tvar lng = resp.coords.longitude;\r\n\r\n\t\t\t\r\n\t\t\tvar Currentlatlng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\r\n\r\n\t\t\treturn Currentlatlng;\r\n\t\t}).catch((error) => {\r\n\t\t\tconsole.log('Error getting location', error);\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tCheckExistence(key, visitedInfo) { //Returns -1 if POI is already visited\r\n\t\tvar val = \"-1\";\r\n\t\tfor (let visit of visitedInfo) {\r\n\t\t\tif (visit.visited == key)\r\n\t\t\t\tval = key;\r\n\r\n\t\t}\r\n\r\n\t\treturn val;\r\n\r\n\t}\r\n\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/geographically/geo.ts","import { Component,ViewChild ,ElementRef,AfterViewInit,OnInit} from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Validators, FormGroup, FormArray, FormBuilder } from '@angular/forms'\r\nimport { File } from '@ionic-native/file';\r\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\r\nimport { VideoEditor } from '@ionic-native/video-editor';\r\n\r\n@Component({\r\n  selector: 'page-cam'\r\n})\r\n\r\n\r\n export class VidPage  {\r\n\r\n\r\n  constructor(private mediaCapture: MediaCapture,private videoEditor: VideoEditor) {\r\n\r\n\t \r\n\t  \r\n  }\r\n\r\n\r\n \r\nVid(){ //Opens the device camera for capturing video\r\n\r\n\r\n\r\n \r\nlet options: CaptureImageOptions = { limit: 1};\r\n return this.mediaCapture.captureVideo(options)\r\n  .then(\r\n    function(data: MediaFile[]) { \r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n\treturn data;\r\n\t},(err: CaptureError) => {\r\n\t\tconsole.error(\"error\",err);\r\n\t\treturn false;\r\n\t});\r\n\t\r\n\r\n }\r\n \r\n //Creates a thumbnail\r\n VideoThumbnail(vidUri,thumbName){\r\n\t    \r\n\r\n\treturn  this.videoEditor.createThumbnail({fileUri:vidUri,outputFileName: thumbName, width: 128, height: 128}).then(\r\n\t(result) => {\r\n\t\tconsole.log('success');\r\n\t    return result;\r\n    },(error: any) =>{\r\n     console.log('error', error)\r\n \r\n });\r\n\t \r\n\t \r\n\t \r\n }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/gps/vid.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams ,ViewController} from 'ionic-angular';\nimport {BLE} from '@ionic-native/ble';\n\nimport {AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable} from 'angularfire2/database';\n\n\n@Component({\n  selector: 'page-beacon',\n  templateUrl: 'beacon.html'\n})\nexport class BeaconPage { \n\t\nobj:  FirebaseObjectObservable<any>;\nlst: FirebaseListObservable <any>;\t\n\n    public devices: any =[];\n\tpublic deviceId: any ;\n\tpublic BeaconId;\n    public id :any;\t\n    public i=0;\ngform={GameName:''};\n\n  constructor(public viewCtrl: ViewController,public af: AngularFireDatabase,private ble: BLE,public navCtrl: NavController, public navParams: NavParams) {\n\t  \n\n\t  \n\t  \n\t  \n  }\n\nngAfterViewInit() {\n\n this.bluetooth();\n\n}\n\nbluetooth(){     //Enable Bluetooth on the device\n\tthis.ble.enable().then(function(){ \n       console.log(\"bluetooth is enabled\");\n      \n},\n    function(){\n\t\n\t\tconsole.log(\"bluetooth is not enabled\");\n\t  \n\t\n});\t\n     this.startScanning();\n}\n\n\n\n\n\n  \n  \n\n   doRefresh(refresher) { //Referesh the page\n\t   this.devices=[];\n\t     this.startScanning();\n    console.log('Begin async operation', refresher);\n\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      refresher.complete();\n    }, 4000);\n  }\n\n  startScanning() {  //Scan for beacons\n\n\n\n\n\nthis.ble.scan([],5).subscribe(device => {   \n\t var adData = new Uint8Array(device.advertising)\n\t \n\t\n\t\t   \n\tthis.devices.push(device);\n\t\n\t   \n\tconsole.log(\"devices are:\",this.devices);\n \n\t           \n    }, error => {\n\t\tconsole.log(\"scan error\");\n      console.log(error);\n    });\n\t\n\t\n\t\n\t\n\n\t\n}\n\n\n\n  \n\n\n\n    dismiss(){ //dismiss current page\n\t\n   this.viewCtrl.dismiss(this.deviceId);\n }\n  \n  \n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/beacon/beacon.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport {AngularFireDatabase, FirebaseListObservable,FirebaseObjectObservable} from 'angularfire2/database';\r\nimport {\r\n GoogleMap,\r\n GoogleMapsEvent,\r\n LatLng,\r\n MarkerOptions,\r\n Marker\r\n \r\n} from '@ionic-native/google-maps';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport * as firebase from 'firebase';\r\nimport {RootPage} from '../../StringManipulation/Root'\r\ndeclare var google;\r\n@Component({\r\n  selector: 'page-finder',\r\n  templateUrl: '../chronologically/chron.html'\r\n})\r\nexport class FinderPage {\r\n \tobj:  FirebaseObjectObservable<any>;\r\n    lst: FirebaseListObservable <any>;\r\n\t\r\n    public blob;\r\n\tpublic GamePath;\r\n    public keys=[];\r\n\tpublic Cords=[];\r\n    public GameArray;\r\n\tpublic root;\r\n  constructor(public af: AngularFireDatabase) {\r\n\t  \r\n\t  this.root=new RootPage().DBroot();\r\n  \r\n  }\r\n  \r\n  \r\n  \r\n//Finds and retrieves data from firebase database\r\n\r\n\r\n\t    \tRetrieveUserPrivileges(uid){\r\n\t\t\t\r\n\r\n\t return  firebase.database().ref( uid).once('value').then((snapshot)=> {\r\n  var prvl = snapshot.val().UserType;\r\n   \r\n\tif(prvl == \"Creator\")\r\n  return  true;\r\n else \r\n\t  return false;\r\n\r\n});\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t\t\r\n\t\t\t\t\tRetrieveOnce(path){ //Retrieve snapshot from firebase once\r\n\t\t\t\t\r\n\t\t\t return  firebase.database().ref(path).once('value').then((snapshot)=> {\r\n\r\n\r\n\r\n\t  return snapshot.val();\r\n\r\n});\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t \r\n\t\t\t\tCheckForResponse(GPath){ //Retrieve snapshot from firebase once\r\n\t\t\t\t\r\n\t\t\t return  firebase.database().ref(GPath).once('value').then((snapshot)=> {\r\n\t\t\r\n\r\n            if(snapshot.val() != \"True\")\r\n\t\t\t  \treturn false;\r\n\t\t\t\r\n\t  return snapshot.val();\r\n\r\n});\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\r\n\t   \r\n\t   RetrieveKey(path){ //Retrieves the keys of each snapshot\r\n\r\n    this.lst = this.af.list(path,{ preserveSnapshot: true });\r\n\t\t\t\t        \r\n  return\t  this.lst.map(snapshots => {\r\n                \r\n\t\t\t     snapshots.forEach(snapshot => {\r\n\r\n\t            this.keys.push(snapshot.key);\r\n\t\t\t\t\r\n\t\t \r\n    });\r\n\t  return this.keys;\r\n           \r\n\t\t\t\t})\r\n\t\t\t\t\r\n  } //end of Retrieve function\r\n  \r\n  \r\n  RetrievePath(path,key,GameName){ //Retrieves the Path of scenario in firebase\r\n\t  \r\n\t  \r\n\t  \t\t\t  \r\n\t  this.lst = this.af.list(path+key+\"/GameName\", { preserveSnapshot: true });\r\n   return this.lst.map(snapshots => {\r\n               path=path+key;\r\n\t\t\t      snapshots.forEach(snapshot => {\r\n      \r\n\t          \r\n\t    \t if (snapshot.key == GameName){\r\n\t\t\t\r\n\t\t\t\tthis.GamePath=path;\r\n\t\t\t  \r\n\t\t\t   \r\n\t\t   }\r\n\t\t   else{\r\n\t\t\t   \r\n\t\t\t \r\n\t\t\t    path=this.root;\r\n\t\t   }\r\n\t  \r\n});\r\n    return this.GamePath;\r\n\t})\r\n\t  \r\n \r\n  } // end of RetrievePath\r\n  \r\n  \r\n    RetrieveGameName(path,key){ // Retrieves the path of scenario  and the key of scenario in firebase \r\n\t  \r\n\t  \r\n\t  \t\t var obj;\t  \r\n\t  this.lst = this.af.list(path+key+\"/GameName\", { preserveSnapshot: true });\r\n   return this.lst.map(snapshots => {\r\n               path=path+key;\r\n\t\t\t      snapshots.forEach(snapshot => {\r\n   \r\n\t          \r\n\t    \t  \r\n\t\t\t   obj={ GameName: snapshot.key,\r\n\t\t\t            GamePath: path\r\n\t\t\t          }\r\n             \r\n\t\t\r\n\t  \r\n});\r\n    return obj;\r\n\t})\r\n\t  \r\n \r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  RetrivePosition(GamePath){ // Retrieves the snapshot of given path\r\n\t    \r\n\t  this.lst = this.af.list(GamePath, { preserveSnapshot: true });\r\n   return  this.lst.map(snapshots => {\r\n            \r\n\r\n    return snapshots;\r\n\t})\r\n\t  \r\n\t \r\n\t  \r\n\t  \r\n  }\r\n  \r\n  \r\n   Nearest(CordsArray,Currentlatlng,visited){ //  \r\n\t \r\n \tfor (let cord of CordsArray){\r\n\t\t\t\t\r\n\t\t\t\t\tvar latlng = new google.maps.LatLng(cord.val().Lat,cord.val().Long);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(visited.length == 0)\r\n\t\t\t\t\t  if( Currentlatlng.equals(latlng))\r\n\t\t\t\t\t   {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar data=cord.val().Data;\r\n\t\t         \r\n\t\t               visited.push(cord.key);\t\t\t\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (let visit of visited) {\r\n\t\t\t\t\t\tif(visit == cord.key){\r\n\t\t\t\t\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\tif( Currentlatlng.equals(latlng))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar data=cord.val().Data;\r\n\t\t          \r\n\t\t               visited.push(cord.key);\r\n\t\t\t\r\n            \t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n   \r\n        return data;        \r\n }\r\n\r\n  GetData(data,key){//Gets the downlad url of given data\r\n\t  \r\n\r\n\t    var storageRef = firebase.storage().ref();\r\n\t return  storageRef.child(data[key]).getDownloadURL().then(function(url) {\r\n \r\n \r\n \r\n \r\n\r\n  return url;\r\n\t\r\n\r\n});\r\n \r\n\t \r\n\t\r\n  }\r\n   \r\n    GetVidData(data,key){//Gets the video data as download url\r\n\t \r\n var Tkey=data[key].toString()+\"thumbnail\";\r\n\t\t\t   \r\n\t    var storageRef = firebase.storage().ref();\r\n\t return  storageRef.child(data[key]).getDownloadURL().then(function(url) {\r\n\t\t      \r\n         return storageRef.child(Tkey).getDownloadURL().then(function(Turl){\r\n  var urlobj :object={ url: url,\r\n                       thumbnail: Turl,\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t};\r\n \r\n\r\n  return urlobj;\r\n\t\r\n});\r\n});\r\n \r\n\t \r\n\t\r\n  }\r\n\r\n\t\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scenario/starter/finder.ts"],"sourceRoot":""}